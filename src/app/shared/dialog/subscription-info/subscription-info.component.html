<!-- <div class="es-modal info-modal" *ngIf="!inProgress; else spinner">
  <div class="modal-header-flex">
    <div class="modal-header-text-container">
      <div class="mb-3 d-flex">
        <svg
          width="56"
          height="56"
          viewBox="0 0 56 56"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect x="4" y="4" width="48" height="48" rx="24" fill="#A5A6EE" />
          <path
            d="M27.5 17C21.704 17 17 21.704 17 27.5C17 33.296 21.704 38 27.5 38C33.296 38 38 33.296 38 27.5C38 21.704 33.296 17 27.5 17ZM27.5 32.75C26.9225 32.75 26.45 32.2775 26.45 31.7V27.5C26.45 26.9225 26.9225 26.45 27.5 26.45C28.0775 26.45 28.55 26.9225 28.55 27.5V31.7C28.55 32.2775 28.0775 32.75 27.5 32.75ZM28.55 24.35H26.45V22.25H28.55V24.35Z"
            fill="white"
          />
          <rect
            x="4"
            y="4"
            width="48"
            height="48"
            rx="24"
            stroke="#6365EF"
            stroke-width="8"
          />
        </svg>
      </div>
    </div>
    <div class="es-btn-close-container mt-0 mb-auto me-3">
      <a class="es-btn-close" (click)="close()"></a>
    </div>
  </div>

  <div>
    <p class="modal-header-text mb-0">
      Subscription No: {{ subscriptionDetails._id }}
    </p>
  </div>
  <div class="es-modal-body">
    <div class="row sub">
      <div class="col-4">
        <label class="modal-label-text">Plan Name</label>
        <div class="modal-details-text mt-1 pe-2">
          {{ subscriptionDetails.planName }}
        </div>
      </div>
      <div class="col-4">
        <label class="modal-label-text">Date Created</label>
        <div class="modal-details-text mt-1">
          {{ (subscriptionDetails.createdAt | date : "dd-MM-YYYY") ?? "NA" }}
        </div>
      </div>
      <div class="col-4">
        <label class="modal-label-text">Expiry Date</label>
        <div class="modal-details-text mt-1">
          {{ (subscriptionDetails.expiryDate | date : "dd-MM-YYYY") ?? "NA" }}
        </div>
      </div>
    </div>
    <div class="row sub mt-3">
      <div class="col-4">
        <label class="modal-label-text">Activation Date</label>
        <div class="modal-details-text mt-1">
          {{
            (subscriptionDetails.activationDate | date : "dd-MM-YYYY") ?? "NA"
          }}
        </div>
      </div>
      <div class="col-4">
        <label class="modal-label-text">Payment Method</label>
        <div class="modal-details-text mt-1">
          {{ subscriptionDetails.paymentMethod || "Apple Pay" | titlecase }}
        </div>
      </div>
      <div class="col-4">
        <label class="modal-label-text">Transaction ID</label>
        <div
          class="modal-details-text mt-1 d-flex align-text-center justify-content-between"
        >
          <label class="subscriber-details-text helper-text text-truncate w-85">
            {{ subscriptionDetails.transactionId ?? "NA" }}
          </label>
          <span
            class="icon"
            *ngIf="subscriptionDetails.transactionId"
            (click)="copyToClipboard($event, subscriptionDetails.transactionId)"
            [tooltip]="copyText"
            placement="top"
            delay="100"
            offset="10"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_1322_24072"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="20"
                height="20"
              >
                <rect width="20" height="20" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_1322_24072)">
                <path
                  d="M4.16667 18.3332C3.70833 18.3332 3.31583 18.1701 2.98917 17.844C2.66306 17.5173 2.5 17.1248 2.5 16.6665V4.99984H4.16667V16.6665H13.3333V18.3332H4.16667ZM7.5 14.9998C7.04167 14.9998 6.64944 14.8368 6.32333 14.5107C5.99667 14.184 5.83333 13.7915 5.83333 13.3332V3.33317C5.83333 2.87484 5.99667 2.48234 6.32333 2.15567C6.64944 1.82956 7.04167 1.6665 7.5 1.6665H15C15.4583 1.6665 15.8508 1.82956 16.1775 2.15567C16.5036 2.48234 16.6667 2.87484 16.6667 3.33317V13.3332C16.6667 13.7915 16.5036 14.184 16.1775 14.5107C15.8508 14.8368 15.4583 14.9998 15 14.9998H7.5ZM7.5 13.3332H15V3.33317H7.5V13.3332Z"
                  fill="#1C1B1F"
                />
              </g>
            </svg>
          </span>
        </div>
      </div>
    </div>
    <div class="row mt-3 pb-3 border-bottom">
      <div class="col-4">
        <label class="modal-label-text">Buying Price</label>
        <div class="modal-details-text mt-1">
          <span *ngIf="subscriptionDetails.transactionId; else noTransactionId">
            {{
              subscriptionDetails?.buyingPrice?.price || 0
                | currency : subscriptionDetails?.buyingPrice?.currency
            }}
          </span>
          <ng-template #noTransactionId>NA</ng-template>
        </div>
      </div>
      <div class="col-6">
        <label class="modal-label-text">Default Converted Price</label>
        <div class="modal-details-text mt-1">
          {{
            (subscriptionDetails?.defaultPrice?.price
              | currency : subscriptionDetails?.defaultPrice?.currency) || "NA"
          }}
        </div>
      </div>
    </div>
    <div class="row pt-3">
      <div class="col d-flex justify-content-between">
        <div class="modal-label-text">
          <span class="pe-3">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                class="fill-color"
                d="M11.6992 1H5.72802C2.74244 1 2 1.80871 2 5.03553V14.0514C2 16.1813 3.15316 16.6857 4.55117 15.1644L4.55906 15.1564C5.20673 14.4598 6.19402 14.5158 6.75481 15.2765L7.55254 16.3574C8.19231 17.2142 9.22699 17.2142 9.86676 16.3574L10.6645 15.2765C11.2332 14.5078 12.2205 14.4518 12.8681 15.1564C14.274 16.6777 15.4193 16.1733 15.4193 14.0434V5.03553C15.4272 1.80871 14.6847 1 11.6992 1ZM5.38049 9.00701C4.94608 9.00701 4.59066 8.64669 4.59066 8.20631C4.59066 7.76592 4.94608 7.4056 5.38049 7.4056C5.8149 7.4056 6.17033 7.76592 6.17033 8.20631C6.17033 8.64669 5.8149 9.00701 5.38049 9.00701ZM5.38049 5.8042C4.94608 5.8042 4.59066 5.44389 4.59066 5.0035C4.59066 4.56312 4.94608 4.2028 5.38049 4.2028C5.8149 4.2028 6.17033 4.56312 6.17033 5.0035C6.17033 5.44389 5.8149 5.8042 5.38049 5.8042ZM12.0546 8.80683H7.71051C7.38667 8.80683 7.11813 8.53459 7.11813 8.20631C7.11813 7.87802 7.38667 7.60578 7.71051 7.60578H12.0546C12.3784 7.60578 12.647 7.87802 12.647 8.20631C12.647 8.53459 12.3784 8.80683 12.0546 8.80683ZM12.0546 5.60403H7.71051C7.38667 5.60403 7.11813 5.33179 7.11813 5.0035C7.11813 4.67522 7.38667 4.40298 7.71051 4.40298H12.0546C12.3784 4.40298 12.647 4.67522 12.647 5.0035C12.647 5.33179 12.3784 5.60403 12.0546 5.60403Z"
                fill="black"
              />
            </svg>
          </span>
          <span>Plan Price</span>
        </div>
        <div class="modal-details-text mt-0">
          <span>
            {{
              subscriptionDetails?.invoice?.convertedPrice
                | currency : subscriptionDetails?.invoice?.currency
            }}
          </span>
          <ng-template #noTransactionId>NA</ng-template>
        </div>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col d-flex justify-content-between">
        <div class="modal-label-text">
          <span class="pe-3">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                class="fill-color"
                d="M3.9375 2.25C3.48995 2.25 3.06072 2.42779 2.74426 2.74426C2.42779 3.06072 2.25 3.48995 2.25 3.9375V5.27962C2.25 5.86462 2.55375 6.40687 3.04987 6.714L7.39913 9.40275C6.73759 9.75918 6.21393 10.3262 5.91113 11.0139C5.60833 11.7017 5.54371 12.4708 5.72752 13.1994C5.91132 13.928 6.33302 14.5745 6.92581 15.0363C7.5186 15.4981 8.24855 15.7489 9 15.7489C9.75145 15.7489 10.4814 15.4981 11.0742 15.0363C11.667 14.5745 12.0887 13.928 12.2725 13.1994C12.4563 12.4708 12.3917 11.7017 12.0889 11.0139C11.7861 10.3262 11.2624 9.75918 10.6009 9.40275L14.9501 6.714C15.1946 6.56282 15.3963 6.35171 15.5363 6.10068C15.6763 5.84966 15.7499 5.56704 15.75 5.27962V3.9375C15.75 3.48995 15.5722 3.06072 15.2557 2.74426C14.9393 2.42779 14.5101 2.25 14.0625 2.25H3.9375ZM6.75 7.67925V3.375H11.25V7.67925L9.29587 8.8875C9.20698 8.94248 9.10452 8.9716 9 8.9716C8.89548 8.9716 8.79302 8.94248 8.70412 8.8875L6.75 7.67925ZM9 10.125C9.59674 10.125 10.169 10.3621 10.591 10.784C11.0129 11.206 11.25 11.7783 11.25 12.375C11.25 12.9717 11.0129 13.544 10.591 13.966C10.169 14.3879 9.59674 14.625 9 14.625C8.40326 14.625 7.83097 14.3879 7.40901 13.966C6.98705 13.544 6.75 12.9717 6.75 12.375C6.75 11.7783 6.98705 11.206 7.40901 10.784C7.83097 10.3621 8.40326 10.125 9 10.125Z"
                fill="black"
              />
            </svg>
          </span>
          <span
            >Reward Points :
            {{ subscriptionDetails?.invoice?.rewardPointsRedeemed }}($5)</span
          >
        </div>
        <div class="modal-details-text mt-0">
          {{ 0 | currency : subscriptionDetails?.invoice?.currency }}
        </div>
      </div>
    </div>
    <div
      class="row mt-2"
      *ngIf="subscriptionDetails?.invoice?.couponAmount > 0"
    >
      <div class="col d-flex justify-content-between">
        <div class="modal-label-text">
          <span class="pe-3">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                class="fill-color"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M7.49642 3H10.5039C13.3389 3 14.7564 3 15.6377 3.879C16.2452 4.4835 16.4334 5.34225 16.4927 6.74175C16.5039 7.01925 16.5099 7.15875 16.4582 7.251C16.4057 7.34325 16.1994 7.4595 15.7854 7.6905C15.5522 7.82051 15.358 8.01043 15.2227 8.24065C15.0875 8.47086 15.0162 8.73301 15.0162 9C15.0162 9.26699 15.0875 9.52914 15.2227 9.75935C15.358 9.98957 15.5522 10.1795 15.7854 10.3095C16.1994 10.5412 16.4064 10.6567 16.4582 10.749C16.5099 10.8412 16.5039 10.98 16.4919 11.2575C16.4334 12.6577 16.2444 13.5165 15.6377 14.121C14.7572 15 13.3397 15 10.5039 15H7.49642C4.66142 15 3.24392 15 2.36267 14.121C1.75517 13.5165 1.56692 12.6577 1.50767 11.2582C1.49642 10.9807 1.49042 10.8412 1.54217 10.749C1.59467 10.6567 1.80092 10.5412 2.21492 10.3095C2.44812 10.1795 2.64238 9.98957 2.7776 9.75935C2.91283 9.52914 2.98413 9.26699 2.98413 9C2.98413 8.73301 2.91283 8.47086 2.7776 8.24065C2.64238 8.01043 2.44812 7.82051 2.21492 7.6905C1.80092 7.4595 1.59392 7.34325 1.54217 7.251C1.49042 7.15875 1.49642 7.02 1.50842 6.74175C1.56692 5.34225 1.75592 4.48425 2.36267 3.879C3.24317 3 4.66067 3 7.49642 3ZM11.6612 6.3525C11.7134 6.40467 11.7549 6.46664 11.7832 6.53484C11.8114 6.60305 11.826 6.67616 11.826 6.75C11.826 6.82384 11.8114 6.89695 11.7832 6.96516C11.7549 7.03336 11.7134 7.09533 11.6612 7.1475L7.14992 11.6475C7.04407 11.753 6.90073 11.8122 6.7513 11.8122C6.60187 11.8122 6.45853 11.753 6.35267 11.6475C6.30043 11.5953 6.25897 11.5334 6.23069 11.4652C6.20241 11.3969 6.18786 11.3238 6.18786 11.25C6.18786 11.1762 6.20241 11.103 6.23069 11.0348C6.25897 10.9666 6.30043 10.9047 6.35267 10.8525L10.8632 6.3525C10.9691 6.2468 11.1126 6.18743 11.2622 6.18743C11.4118 6.18743 11.5553 6.2468 11.6612 6.3525ZM10.8864 11.625C10.9877 11.6295 11.0889 11.6135 11.1839 11.5778C11.2788 11.5422 11.3655 11.4877 11.4388 11.4176C11.5121 11.3475 11.5705 11.2633 11.6103 11.17C11.6502 11.0768 11.6707 10.9764 11.6707 10.875C11.6707 10.7736 11.6502 10.6732 11.6103 10.58C11.5705 10.4867 11.5121 10.4025 11.4388 10.3324C11.3655 10.2623 11.2788 10.2078 11.1839 10.1722C11.0889 10.1365 10.9877 10.1205 10.8864 10.125C10.4709 10.125 10.1342 10.461 10.1342 10.875C10.1342 11.289 10.4717 11.625 10.8864 11.625ZM7.12667 7.875C7.54217 7.875 7.87892 7.539 7.87892 7.125C7.87892 6.711 7.54217 6.375 7.12667 6.375C7.02536 6.37047 6.92418 6.38651 6.82924 6.42216C6.73429 6.4578 6.64756 6.51232 6.57426 6.58241C6.50096 6.6525 6.44263 6.73671 6.40277 6.82997C6.36292 6.92322 6.34237 7.02358 6.34237 7.125C6.34237 7.22641 6.36292 7.32678 6.40277 7.42003C6.44263 7.51329 6.50096 7.5975 6.57426 7.66759C6.64756 7.73768 6.73429 7.7922 6.82924 7.82784C6.92418 7.86349 7.02536 7.87953 7.12667 7.875Z"
                fill="black"
              />
            </svg>
          </span>
          <span
            >Coupon Code : {{ subscriptionDetails?.invoice?.couponCode }} ({{
              subscriptionDetails?.invoice?.couponAmount
                | currency : subscriptionDetails?.invoice?.currency
            }})</span
          >
        </div>
        <div class="modal-details-text mt-0">
          {{
            subscriptionDetails?.invoice?.couponAmount
              | currency : subscriptionDetails?.invoice?.currency
          }}
        </div>
      </div>
    </div>
    <div class="row mt-2 pb-3 border-bottom">
      <div class="col d-flex justify-content-between">
        <div class="modal-label-text">
          <span class="pe-3">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_464_19257"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="18"
                height="18"
              >
                <rect width="18" height="18" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_464_19257)">
                <path
                  class="fill-color"
                  d="M8.32402 14.2451H9.63652V13.3076C10.2615 13.1951 10.799 12.9514 11.249 12.5764C11.699 12.2014 11.924 11.6451 11.924 10.9076C11.924 10.3826 11.774 9.90137 11.474 9.46387C11.174 9.02637 10.574 8.64512 9.67402 8.32012C8.92402 8.07012 8.40527 7.85137 8.11777 7.66387C7.83027 7.47637 7.68652 7.22012 7.68652 6.89512C7.68652 6.57012 7.80215 6.31387 8.0334 6.12637C8.26465 5.93887 8.59902 5.84512 9.03652 5.84512C9.43652 5.84512 9.74902 5.94199 9.97402 6.13574C10.199 6.32949 10.3615 6.57012 10.4615 6.85762L11.6615 6.37012C11.524 5.93262 11.2709 5.55137 10.9021 5.22637C10.5334 4.90137 10.124 4.72012 9.67402 4.68262V3.74512H8.36152V4.68262C7.73652 4.82012 7.24902 5.09512 6.89902 5.50762C6.54902 5.92012 6.37402 6.38262 6.37402 6.89512C6.37402 7.48262 6.5459 7.95762 6.88965 8.32012C7.2334 8.68262 7.77402 8.99512 8.51152 9.25762C9.29902 9.54512 9.8459 9.80137 10.1521 10.0264C10.4584 10.2514 10.6115 10.5451 10.6115 10.9076C10.6115 11.3201 10.4646 11.6232 10.1709 11.817C9.87715 12.0107 9.52402 12.1076 9.11152 12.1076C8.69902 12.1076 8.3334 11.9795 8.01465 11.7232C7.6959 11.467 7.46152 11.0826 7.31152 10.5701L6.07402 11.0576C6.24902 11.6576 6.5209 12.142 6.88965 12.5107C7.2584 12.8795 7.73652 13.1326 8.32402 13.2701V14.2451ZM8.99902 16.4951C7.96152 16.4951 6.98652 16.2982 6.07402 15.9045C5.16152 15.5107 4.36777 14.9764 3.69277 14.3014C3.01777 13.6264 2.4834 12.8326 2.08965 11.9201C1.6959 11.0076 1.49902 10.0326 1.49902 8.99512C1.49902 7.95762 1.6959 6.98262 2.08965 6.07012C2.4834 5.15762 3.01777 4.36387 3.69277 3.68887C4.36777 3.01387 5.16152 2.47949 6.07402 2.08574C6.98652 1.69199 7.96152 1.49512 8.99902 1.49512C10.0365 1.49512 11.0115 1.69199 11.924 2.08574C12.8365 2.47949 13.6303 3.01387 14.3053 3.68887C14.9803 4.36387 15.5146 5.15762 15.9084 6.07012C16.3021 6.98262 16.499 7.95762 16.499 8.99512C16.499 10.0326 16.3021 11.0076 15.9084 11.9201C15.5146 12.8326 14.9803 13.6264 14.3053 14.3014C13.6303 14.9764 12.8365 15.5107 11.924 15.9045C11.0115 16.2982 10.0365 16.4951 8.99902 16.4951Z"
                  fill="black"
                />
              </g>
            </svg>
          </span>
          <span>Final Amount Paid :</span>
        </div>
        <div class="modal-details-text mt-0">
          {{
            subscriptionDetails?.invoice?.convertedPrice -
              (0 + subscriptionDetails?.invoice?.couponAmount)
              | currency : subscriptionDetails?.buyingPrice?.currency
          }}
        </div>
      </div>
    </div>
    <div class="row sub mt-3">
      <div class="col-5">
        <label class="modal-label-text">Data Usage</label>
        <div class="modal-details-text mt-2 d-flex">
          <ngx-gauge
            type="arch"
            [value]="usedDataForGuage"
            [thick]="10"
            [size]="90"
            [max]="totalData"
            cap="round"
            [label]="'/' + subscriptionDetails.data"
            [append]="dataUnit"
            foregroundColor="#6365EF"
            backgroundColor="#6365EF5E"
          ></ngx-gauge>
          <span class="cloud-icon">
            <img src="/assets/images/subscriptions/cloud.svg" alt="" />
          </span>
        </div>
      </div>
      <div class="col-7 pe-0">
        <div class="row">
          <div class="col-12">
            <label class="modal-label-text">User Email</label>
            <div
              class="modal-details-text mt-1 d-flex align-text-center justify-content-between"
            >
              <label
                class="subscriber-details-text helper-text text-truncate w-85"
              >
                {{ subscriptionDetails.subscriberEmail }}
              </label>
              <span
                class="icon"
                *ngIf="subscriptionDetails.subscriberEmail"
                (click)="
                  copyToClipboard($event, subscriptionDetails.subscriberEmail)
                "
                [tooltip]="copyText"
                placement="top"
                delay="100"
                offset="10"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <mask
                    id="mask0_1322_24072"
                    style="mask-type: alpha"
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="20"
                    height="20"
                  >
                    <rect width="20" height="20" fill="#D9D9D9" />
                  </mask>
                  <g mask="url(#mask0_1322_24072)">
                    <path
                      d="M4.16667 18.3332C3.70833 18.3332 3.31583 18.1701 2.98917 17.844C2.66306 17.5173 2.5 17.1248 2.5 16.6665V4.99984H4.16667V16.6665H13.3333V18.3332H4.16667ZM7.5 14.9998C7.04167 14.9998 6.64944 14.8368 6.32333 14.5107C5.99667 14.184 5.83333 13.7915 5.83333 13.3332V3.33317C5.83333 2.87484 5.99667 2.48234 6.32333 2.15567C6.64944 1.82956 7.04167 1.6665 7.5 1.6665H15C15.4583 1.6665 15.8508 1.82956 16.1775 2.15567C16.5036 2.48234 16.6667 2.87484 16.6667 3.33317V13.3332C16.6667 13.7915 16.5036 14.184 16.1775 14.5107C15.8508 14.8368 15.4583 14.9998 15 14.9998H7.5ZM7.5 13.3332H15V3.33317H7.5V13.3332Z"
                      fill="#1C1B1F"
                    />
                  </g>
                </svg>
              </span>
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-12">
            <label class="modal-label-text">Total Data</label>
            <div class="modal-details-text total-data mt-1">
              {{ subscriptionDetails.data }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="es-modal-footer d-flex mt-4">
    <button class="btn btn-primary ms-auto w-100" (click)="close()">
      Ok
    </button>
  </div>
</div> -->

<div class="es-modal info-modal" *ngIf="!inProgress; else spinner">
  <div class="modal-header-flex">
    <div class="modal-header-text-container">
      <div class="mb-3 d-flex">
        <svg
          width="56"
          height="56"
          viewBox="0 0 56 56"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect x="4" y="4" width="48" height="48" rx="24" fill="#A5A6EE" />
          <path
            d="M27.5 17C21.704 17 17 21.704 17 27.5C17 33.296 21.704 38 27.5 38C33.296 38 38 33.296 38 27.5C38 21.704 33.296 17 27.5 17ZM27.5 32.75C26.9225 32.75 26.45 32.2775 26.45 31.7V27.5C26.45 26.9225 26.9225 26.45 27.5 26.45C28.0775 26.45 28.55 26.9225 28.55 27.5V31.7C28.55 32.2775 28.0775 32.75 27.5 32.75ZM28.55 24.35H26.45V22.25H28.55V24.35Z"
            fill="white"
          />
          <rect
            x="4"
            y="4"
            width="48"
            height="48"
            rx="24"
            stroke="#6365EF"
            stroke-width="8"
          />
        </svg>
      </div>
    </div>
    <div class="es-btn-close-container mt-0 mb-auto me-3">
      <a class="es-btn-close" (click)="close()"></a>
    </div>
  </div>

  <div>
    <p class="modal-header-text mb-0">
      Subscription No: {{ subscriptionDetails._id }}
    </p>
  </div>
  <div class="es-modal-body">
    <div class="row sub">
      <div class="col-12">
        <label class="modal-label-text">Plan Name</label>
        <div class="modal-details-text pe-2">
          {{ subscriptionDetails.planName }}
        </div>
      </div>
    </div>
    <div class="row sub mt-3">
      <div class="col-4">
        <label class="modal-label-text">Date Created</label>
        <div class="modal-details-text">
          {{ (subscriptionDetails.createdAt | date : "dd-MM-yyyy") ?? "NA" }}
        </div>
      </div>
      <div class="col-4">
        <label class="modal-label-text">Expiry Date</label>
        <div class="modal-details-text">
          {{ (subscriptionDetails.expiryDate | date : "dd-MM-yyyy") ?? "NA" }}
        </div>
      </div>
      <div class="col-4">
        <label class="modal-label-text">Activation Date</label>
        <div class="modal-details-text">
          {{
            (subscriptionDetails.activationDate | date : "dd-MM-yyyy") ?? "NA"
          }}
        </div>
      </div>
    </div>
    <div class="row sub mt-3">
      <div class="col-4">
        <label class="modal-label-text">Payment Method</label>
        <div class="modal-details-text">
          {{ subscriptionDetails.paymentMethod || "Stripe" | titlecase }}
        </div>
      </div>
      <div class="col-8 pe-0">
        <label class="modal-label-text">Transaction ID</label>
        <div
          class="modal-details-text d-flex align-text-center justify-content-between"
        >
          <label class="text-truncate w90">
            {{ subscriptionDetails.transactionId ?? "NA" }}
          </label>
          <span
            class="icon"
            *ngIf="subscriptionDetails.transactionId"
            (click)="copyToClipboard($event, subscriptionDetails.transactionId)"
            [tooltip]="copyText"
            placement="top"
            delay="100"
            offset="10"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_1322_24072"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="20"
                height="20"
              >
                <rect width="20" height="20" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_1322_24072)">
                <path
                  d="M4.16667 18.3332C3.70833 18.3332 3.31583 18.1701 2.98917 17.844C2.66306 17.5173 2.5 17.1248 2.5 16.6665V4.99984H4.16667V16.6665H13.3333V18.3332H4.16667ZM7.5 14.9998C7.04167 14.9998 6.64944 14.8368 6.32333 14.5107C5.99667 14.184 5.83333 13.7915 5.83333 13.3332V3.33317C5.83333 2.87484 5.99667 2.48234 6.32333 2.15567C6.64944 1.82956 7.04167 1.6665 7.5 1.6665H15C15.4583 1.6665 15.8508 1.82956 16.1775 2.15567C16.5036 2.48234 16.6667 2.87484 16.6667 3.33317V13.3332C16.6667 13.7915 16.5036 14.184 16.1775 14.5107C15.8508 14.8368 15.4583 14.9998 15 14.9998H7.5ZM7.5 13.3332H15V3.33317H7.5V13.3332Z"
                  fill="#1C1B1F"
                />
              </g>
            </svg>
          </span>
        </div>
      </div>
    </div>
    <div class="row mt-3 pb-3 border-bottom">
      <div class="col-4">
        <label class="modal-label-text">Buying Price</label>
        <div class="modal-details-text">
          <span *ngIf="subscriptionDetails.transactionId; else noTransactionId">
            {{
              (subscriptionDetails?.buyingPrice?.price
                | currency : subscriptionDetails?.buyingPrice?.currency) ?? ((subscriptionDetails?.defaultPrice?.price
              | currency : subscriptionDetails?.defaultPrice?.currency))
            }}
          </span>
          <ng-template #noTransactionId>NA</ng-template>
        </div>
      </div>
      <div class="col-6">
        <label class="modal-label-text">Default Converted Price</label>
        <div class="modal-details-text">
          {{
            (subscriptionDetails?.defaultPrice?.price
              | currency : subscriptionDetails?.defaultPrice?.currency) || "NA"
          }}
        </div>
      </div>
    </div>
    <div class="row pt-3">
      <div class="col d-flex justify-content-between pe-0">
        <div class="modal-label-text">
          <span class="pe-3">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                class="fill-color"
                d="M11.6992 1H5.72802C2.74244 1 2 1.80871 2 5.03553V14.0514C2 16.1813 3.15316 16.6857 4.55117 15.1644L4.55906 15.1564C5.20673 14.4598 6.19402 14.5158 6.75481 15.2765L7.55254 16.3574C8.19231 17.2142 9.22699 17.2142 9.86676 16.3574L10.6645 15.2765C11.2332 14.5078 12.2205 14.4518 12.8681 15.1564C14.274 16.6777 15.4193 16.1733 15.4193 14.0434V5.03553C15.4272 1.80871 14.6847 1 11.6992 1ZM5.38049 9.00701C4.94608 9.00701 4.59066 8.64669 4.59066 8.20631C4.59066 7.76592 4.94608 7.4056 5.38049 7.4056C5.8149 7.4056 6.17033 7.76592 6.17033 8.20631C6.17033 8.64669 5.8149 9.00701 5.38049 9.00701ZM5.38049 5.8042C4.94608 5.8042 4.59066 5.44389 4.59066 5.0035C4.59066 4.56312 4.94608 4.2028 5.38049 4.2028C5.8149 4.2028 6.17033 4.56312 6.17033 5.0035C6.17033 5.44389 5.8149 5.8042 5.38049 5.8042ZM12.0546 8.80683H7.71051C7.38667 8.80683 7.11813 8.53459 7.11813 8.20631C7.11813 7.87802 7.38667 7.60578 7.71051 7.60578H12.0546C12.3784 7.60578 12.647 7.87802 12.647 8.20631C12.647 8.53459 12.3784 8.80683 12.0546 8.80683ZM12.0546 5.60403H7.71051C7.38667 5.60403 7.11813 5.33179 7.11813 5.0035C7.11813 4.67522 7.38667 4.40298 7.71051 4.40298H12.0546C12.3784 4.40298 12.647 4.67522 12.647 5.0035C12.647 5.33179 12.3784 5.60403 12.0546 5.60403Z"
                fill="black"
              />
            </svg>
          </span>
          <span>Plan Price</span>
        </div>
        <div class="modal-details-text mt-0">
          <span>
            {{
              subscriptionDetails?.invoice?.convertedPrice
                | currency : subscriptionDetails?.invoice?.currency
            }}
          </span>
          <ng-template #noTransactionId>NA</ng-template>
        </div>
      </div>
    </div>
    <div
      class="row mt-2"
      *ngIf="subscriptionDetails?.invoice?.rewardPointsRedeemed > 0"
    >
      <div class="col d-flex justify-content-between pe-0">
        <div class="modal-label-text">
          <span class="pe-3">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                class="fill-color"
                d="M3.9375 2.25C3.48995 2.25 3.06072 2.42779 2.74426 2.74426C2.42779 3.06072 2.25 3.48995 2.25 3.9375V5.27962C2.25 5.86462 2.55375 6.40687 3.04987 6.714L7.39913 9.40275C6.73759 9.75918 6.21393 10.3262 5.91113 11.0139C5.60833 11.7017 5.54371 12.4708 5.72752 13.1994C5.91132 13.928 6.33302 14.5745 6.92581 15.0363C7.5186 15.4981 8.24855 15.7489 9 15.7489C9.75145 15.7489 10.4814 15.4981 11.0742 15.0363C11.667 14.5745 12.0887 13.928 12.2725 13.1994C12.4563 12.4708 12.3917 11.7017 12.0889 11.0139C11.7861 10.3262 11.2624 9.75918 10.6009 9.40275L14.9501 6.714C15.1946 6.56282 15.3963 6.35171 15.5363 6.10068C15.6763 5.84966 15.7499 5.56704 15.75 5.27962V3.9375C15.75 3.48995 15.5722 3.06072 15.2557 2.74426C14.9393 2.42779 14.5101 2.25 14.0625 2.25H3.9375ZM6.75 7.67925V3.375H11.25V7.67925L9.29587 8.8875C9.20698 8.94248 9.10452 8.9716 9 8.9716C8.89548 8.9716 8.79302 8.94248 8.70412 8.8875L6.75 7.67925ZM9 10.125C9.59674 10.125 10.169 10.3621 10.591 10.784C11.0129 11.206 11.25 11.7783 11.25 12.375C11.25 12.9717 11.0129 13.544 10.591 13.966C10.169 14.3879 9.59674 14.625 9 14.625C8.40326 14.625 7.83097 14.3879 7.40901 13.966C6.98705 13.544 6.75 12.9717 6.75 12.375C6.75 11.7783 6.98705 11.206 7.40901 10.784C7.83097 10.3621 8.40326 10.125 9 10.125Z"
                fill="black"
              />
            </svg>
          </span>
          <span
            >Reward Points :
            {{ subscriptionDetails?.invoice?.rewardPointsRedeemed }}({{
              subscriptionDetails?.invoice?.cashValueRedeemed
                | currency : subscriptionDetails?.invoice?.currency
            }})</span
          >
        </div>
        <div class="modal-details-text mt-0">
          -{{
            subscriptionDetails?.invoice?.cashValueRedeemed
              | currency : subscriptionDetails?.invoice?.currency
          }}
        </div>
      </div>
    </div>
    <div
      class="row mt-2"
      *ngIf="subscriptionDetails?.invoice?.couponAmount > 0"
    >
      <div class="col d-flex justify-content-between pe-0">
        <div class="modal-label-text">
          <span class="pe-3">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                class="fill-color"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M7.49642 3H10.5039C13.3389 3 14.7564 3 15.6377 3.879C16.2452 4.4835 16.4334 5.34225 16.4927 6.74175C16.5039 7.01925 16.5099 7.15875 16.4582 7.251C16.4057 7.34325 16.1994 7.4595 15.7854 7.6905C15.5522 7.82051 15.358 8.01043 15.2227 8.24065C15.0875 8.47086 15.0162 8.73301 15.0162 9C15.0162 9.26699 15.0875 9.52914 15.2227 9.75935C15.358 9.98957 15.5522 10.1795 15.7854 10.3095C16.1994 10.5412 16.4064 10.6567 16.4582 10.749C16.5099 10.8412 16.5039 10.98 16.4919 11.2575C16.4334 12.6577 16.2444 13.5165 15.6377 14.121C14.7572 15 13.3397 15 10.5039 15H7.49642C4.66142 15 3.24392 15 2.36267 14.121C1.75517 13.5165 1.56692 12.6577 1.50767 11.2582C1.49642 10.9807 1.49042 10.8412 1.54217 10.749C1.59467 10.6567 1.80092 10.5412 2.21492 10.3095C2.44812 10.1795 2.64238 9.98957 2.7776 9.75935C2.91283 9.52914 2.98413 9.26699 2.98413 9C2.98413 8.73301 2.91283 8.47086 2.7776 8.24065C2.64238 8.01043 2.44812 7.82051 2.21492 7.6905C1.80092 7.4595 1.59392 7.34325 1.54217 7.251C1.49042 7.15875 1.49642 7.02 1.50842 6.74175C1.56692 5.34225 1.75592 4.48425 2.36267 3.879C3.24317 3 4.66067 3 7.49642 3ZM11.6612 6.3525C11.7134 6.40467 11.7549 6.46664 11.7832 6.53484C11.8114 6.60305 11.826 6.67616 11.826 6.75C11.826 6.82384 11.8114 6.89695 11.7832 6.96516C11.7549 7.03336 11.7134 7.09533 11.6612 7.1475L7.14992 11.6475C7.04407 11.753 6.90073 11.8122 6.7513 11.8122C6.60187 11.8122 6.45853 11.753 6.35267 11.6475C6.30043 11.5953 6.25897 11.5334 6.23069 11.4652C6.20241 11.3969 6.18786 11.3238 6.18786 11.25C6.18786 11.1762 6.20241 11.103 6.23069 11.0348C6.25897 10.9666 6.30043 10.9047 6.35267 10.8525L10.8632 6.3525C10.9691 6.2468 11.1126 6.18743 11.2622 6.18743C11.4118 6.18743 11.5553 6.2468 11.6612 6.3525ZM10.8864 11.625C10.9877 11.6295 11.0889 11.6135 11.1839 11.5778C11.2788 11.5422 11.3655 11.4877 11.4388 11.4176C11.5121 11.3475 11.5705 11.2633 11.6103 11.17C11.6502 11.0768 11.6707 10.9764 11.6707 10.875C11.6707 10.7736 11.6502 10.6732 11.6103 10.58C11.5705 10.4867 11.5121 10.4025 11.4388 10.3324C11.3655 10.2623 11.2788 10.2078 11.1839 10.1722C11.0889 10.1365 10.9877 10.1205 10.8864 10.125C10.4709 10.125 10.1342 10.461 10.1342 10.875C10.1342 11.289 10.4717 11.625 10.8864 11.625ZM7.12667 7.875C7.54217 7.875 7.87892 7.539 7.87892 7.125C7.87892 6.711 7.54217 6.375 7.12667 6.375C7.02536 6.37047 6.92418 6.38651 6.82924 6.42216C6.73429 6.4578 6.64756 6.51232 6.57426 6.58241C6.50096 6.6525 6.44263 6.73671 6.40277 6.82997C6.36292 6.92322 6.34237 7.02358 6.34237 7.125C6.34237 7.22641 6.36292 7.32678 6.40277 7.42003C6.44263 7.51329 6.50096 7.5975 6.57426 7.66759C6.64756 7.73768 6.73429 7.7922 6.82924 7.82784C6.92418 7.86349 7.02536 7.87953 7.12667 7.875Z"
                fill="black"
              />
            </svg>
          </span>
          <span
            >Coupon Code : {{ subscriptionDetails?.invoice?.couponCode }} ({{
              subscriptionDetails?.invoice?.couponAmount
                | currency : subscriptionDetails?.invoice?.currency
            }})</span
          >
        </div>
        <div class="modal-details-text mt-0">
          -{{
            subscriptionDetails?.invoice?.couponAmount
              | currency : subscriptionDetails?.invoice?.currency
          }}
        </div>
      </div>
    </div>
    <div class="row mt-2 pb-3 border-bottom">
      <div class="col d-flex justify-content-between pe-0">
        <div class="modal-label-text">
          <span class="pe-3">
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_464_19257"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="18"
                height="18"
              >
                <rect width="18" height="18" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_464_19257)">
                <path
                  class="fill-color"
                  d="M8.32402 14.2451H9.63652V13.3076C10.2615 13.1951 10.799 12.9514 11.249 12.5764C11.699 12.2014 11.924 11.6451 11.924 10.9076C11.924 10.3826 11.774 9.90137 11.474 9.46387C11.174 9.02637 10.574 8.64512 9.67402 8.32012C8.92402 8.07012 8.40527 7.85137 8.11777 7.66387C7.83027 7.47637 7.68652 7.22012 7.68652 6.89512C7.68652 6.57012 7.80215 6.31387 8.0334 6.12637C8.26465 5.93887 8.59902 5.84512 9.03652 5.84512C9.43652 5.84512 9.74902 5.94199 9.97402 6.13574C10.199 6.32949 10.3615 6.57012 10.4615 6.85762L11.6615 6.37012C11.524 5.93262 11.2709 5.55137 10.9021 5.22637C10.5334 4.90137 10.124 4.72012 9.67402 4.68262V3.74512H8.36152V4.68262C7.73652 4.82012 7.24902 5.09512 6.89902 5.50762C6.54902 5.92012 6.37402 6.38262 6.37402 6.89512C6.37402 7.48262 6.5459 7.95762 6.88965 8.32012C7.2334 8.68262 7.77402 8.99512 8.51152 9.25762C9.29902 9.54512 9.8459 9.80137 10.1521 10.0264C10.4584 10.2514 10.6115 10.5451 10.6115 10.9076C10.6115 11.3201 10.4646 11.6232 10.1709 11.817C9.87715 12.0107 9.52402 12.1076 9.11152 12.1076C8.69902 12.1076 8.3334 11.9795 8.01465 11.7232C7.6959 11.467 7.46152 11.0826 7.31152 10.5701L6.07402 11.0576C6.24902 11.6576 6.5209 12.142 6.88965 12.5107C7.2584 12.8795 7.73652 13.1326 8.32402 13.2701V14.2451ZM8.99902 16.4951C7.96152 16.4951 6.98652 16.2982 6.07402 15.9045C5.16152 15.5107 4.36777 14.9764 3.69277 14.3014C3.01777 13.6264 2.4834 12.8326 2.08965 11.9201C1.6959 11.0076 1.49902 10.0326 1.49902 8.99512C1.49902 7.95762 1.6959 6.98262 2.08965 6.07012C2.4834 5.15762 3.01777 4.36387 3.69277 3.68887C4.36777 3.01387 5.16152 2.47949 6.07402 2.08574C6.98652 1.69199 7.96152 1.49512 8.99902 1.49512C10.0365 1.49512 11.0115 1.69199 11.924 2.08574C12.8365 2.47949 13.6303 3.01387 14.3053 3.68887C14.9803 4.36387 15.5146 5.15762 15.9084 6.07012C16.3021 6.98262 16.499 7.95762 16.499 8.99512C16.499 10.0326 16.3021 11.0076 15.9084 11.9201C15.5146 12.8326 14.9803 13.6264 14.3053 14.3014C13.6303 14.9764 12.8365 15.5107 11.924 15.9045C11.0115 16.2982 10.0365 16.4951 8.99902 16.4951Z"
                  fill="black"
                />
              </g>
            </svg>
          </span>
          <span>Final Amount Paid :</span>
        </div>
        <div class="modal-details-text mt-0">
          {{
            subscriptionDetails?.price | currency : subscriptionDetails?.currency
          }}
        </div>
      </div>
    </div>
    <div class="row sub mt-3">
      <div class="col-5">
        <label class="modal-label-text">Data Usage</label>
        <div class="modal-details-text mt-2 d-flex">
          <ngx-gauge
            type="arch"
            [value]="usedDataForGuage"
            [thick]="10"
            [size]="90"
            [max]="totalData"
            cap="round"
            [label]="'/' + subscriptionDetails.data"
            [append]="dataUnit"
            foregroundColor="#6365EF"
            backgroundColor="#6365EF5E"
          ></ngx-gauge>
          <span class="cloud-icon">
            <img src="/assets/images/subscriptions/cloud.svg" alt="" />
          </span>
        </div>
      </div>
      <div class="col-7 pe-0">
        <div class="row">
          <div class="col-12">
            <label class="modal-label-text">User Email</label>
            <div
              class="modal-details-text mt-1 d-flex align-text-center justify-content-between"
            >
              <label class="text-truncate w90">
                {{ subscriptionDetails.subscriberEmail }}
              </label>
              <span
                class="icon"
                *ngIf="subscriptionDetails.subscriberEmail"
                (click)="
                  copyToClipboard($event, subscriptionDetails.subscriberEmail)
                "
                [tooltip]="copyText"
                placement="top"
                delay="100"
                offset="10"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <mask
                    id="mask0_1322_24072"
                    style="mask-type: alpha"
                    maskUnits="userSpaceOnUse"
                    x="0"
                    y="0"
                    width="20"
                    height="20"
                  >
                    <rect width="20" height="20" fill="#D9D9D9" />
                  </mask>
                  <g mask="url(#mask0_1322_24072)">
                    <path
                      d="M4.16667 18.3332C3.70833 18.3332 3.31583 18.1701 2.98917 17.844C2.66306 17.5173 2.5 17.1248 2.5 16.6665V4.99984H4.16667V16.6665H13.3333V18.3332H4.16667ZM7.5 14.9998C7.04167 14.9998 6.64944 14.8368 6.32333 14.5107C5.99667 14.184 5.83333 13.7915 5.83333 13.3332V3.33317C5.83333 2.87484 5.99667 2.48234 6.32333 2.15567C6.64944 1.82956 7.04167 1.6665 7.5 1.6665H15C15.4583 1.6665 15.8508 1.82956 16.1775 2.15567C16.5036 2.48234 16.6667 2.87484 16.6667 3.33317V13.3332C16.6667 13.7915 16.5036 14.184 16.1775 14.5107C15.8508 14.8368 15.4583 14.9998 15 14.9998H7.5ZM7.5 13.3332H15V3.33317H7.5V13.3332Z"
                      fill="#1C1B1F"
                    />
                  </g>
                </svg>
              </span>
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-12">
            <label class="modal-label-text">Total Data</label>
            <div class="modal-details-text total-data mt-1">
              {{ subscriptionDetails.data }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="es-modal-footer d-flex mt-4">
    <button class="btn btn-primary ms-auto w-100" (click)="close()">Ok</button>
  </div>
</div>
<!-- Loading Spinner - Start -->
<ng-template #spinner class="loader-align">
  <app-loading-spinner></app-loading-spinner>
</ng-template>
<!-- Loading Spinner - End -->
