<div class="es-modal">
    <div class="modal-header-flex">
        <div class="modal-header-text-container">
            <svg *ngIf="title === 'Add New Plan'" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.75 13.5C8.75 13.0858 9.08579 12.75 9.5 12.75H11.25V11C11.25 10.5858 11.5858 10.25 12 10.25C12.4142 10.25 12.75 10.5858 12.75 11V12.75H14.5C14.9142 12.75 15.25 13.0858 15.25 13.5C15.25 13.9142 14.9142 14.25 14.5 14.25H12.75V16C12.75 16.4142 12.4142 16.75 12 16.75C11.5858 16.75 11.25 16.4142 11.25 16V14.25H9.5C9.08579 14.25 8.75 13.9142 8.75 13.5Z" fill="black"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M21.1612 9.74679C21.558 12.233 21.5296 14.7686 21.077 17.2453C20.8747 18.353 19.9483 19.1833 18.8252 19.2636L17.1873 19.3808C13.7334 19.6279 10.2664 19.6279 6.81252 19.3808L5.29851 19.2725C4.10249 19.1869 3.11598 18.3027 2.90046 17.1232C2.46379 14.7333 2.38904 12.2913 2.6787 9.87915L2.95118 7.61004C3.11289 6.26343 4.25529 5.25 5.61158 5.25H7.90314C9.0209 5.25 9.95217 6.04846 10.1577 7.10612H18.4721C19.7785 7.10612 20.8912 8.05533 21.0971 9.34535L21.1612 9.74679ZM19.6015 16.9757C20.0235 14.6662 20.05 12.3017 19.6799 9.98322L19.6158 9.58178C19.5261 9.0197 19.0413 8.60612 18.4721 8.60612H9.75927C9.1742 8.60612 8.69991 8.13183 8.69991 7.54677C8.69991 7.10672 8.34319 6.75 7.90314 6.75H5.61158C5.01455 6.75 4.51167 7.19611 4.44048 7.78888L4.168 10.058C3.89627 12.3208 3.9664 14.6116 4.37603 16.8536C4.46856 17.36 4.89208 17.7396 5.40556 17.7763L6.91956 17.8846C10.3021 18.1266 13.6977 18.1266 17.0803 17.8846L18.7181 17.7674C19.1587 17.7359 19.5221 17.4102 19.6015 16.9757Z" fill="black"/>
            </svg>
            <svg *ngIf="title === 'Edit Plan'" width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 11.0837V14H3.09572L12.226 5.39897L9.13032 2.48271L0 11.0837ZM14.6201 3.14373C14.942 2.84044 14.942 2.35051 14.6201 2.04722L12.6883 0.227468C12.3664 -0.0758228 11.8463 -0.0758228 11.5243 0.227468L10.0136 1.6506L13.1094 4.56687L14.6201 3.14373Z" fill="#475467"/>
            </svg>
            <p class="modal-header-text mb-0">{{title}}</p>
        </div>
        <div class="es-btn-close-container me-4">
            <a class="es-btn-close mt-3" (click)="close()"></a>
        </div>
    </div>
    <div class="es-modal-body">
        <form class="es-modal-form" [formGroup]="planForm" novalidate (ngSubmit)="submit()">
            <div class="mb-3">
                <label for="name" class="form-label es-modal-form-label">Plan Name</label>
                <input type="text" class="form-control es-input" id="name" aria-describedby="name" formControlName="name">
                <div>
                    <span class="help-block ng-invalid text-danger" *ngIf="(f.name.touched && f.name.pristine) || (f.name.errors && submitted)">
                        <span class="small" *ngIf="f.name.errors.required">
                            Plan Name is required!
                        </span>
                    </span>
                </div>
            </div>
            <div class="mb-3 row">
                <div class="col-6">
                    <label for="validity" class="form-label es-modal-form-label">Expiry Interval (Days)</label>
                    <input type="text" class="form-control es-input" id="validity" aria-describedby="validity" formControlName="validity">
                    <div>
                        <span class="help-block ng-invalid text-danger" *ngIf="(f.validity.touched && f.validity.pristine) || (f.validity.errors && submitted)">
                            <span class="small" *ngIf="f.validity.errors.required">
                                Expiry Interval is required!
                            </span>
                        </span>
                    </div>    
                </div>
                <div class="col-6">
                    <label for="cost" class="form-label es-modal-form-label">Cost (USD)</label>
                    <input type="text" class="form-control es-input" id="cost" aria-describedby="cost" formControlName="cost">
                    <div>
                        <span class="help-block ng-invalid text-danger" *ngIf="(f.cost.touched && f.cost.pristine) || (f.cost.errors && submitted)">
                            <span class="small" *ngIf="f.cost.errors.required">
                                Cost is required!
                            </span>
                        </span>
                    </div>    
                </div>
            </div>
            <div class="mb-3 row">
                <div class="col-6">
                    <label for="dataSize" class="form-label es-modal-form-label">Data (MB)</label>
                    <input type="text" class="form-control es-input" id="dataSize" aria-describedby="dataSize" formControlName="dataSize">
                    <div>
                        <span class="help-block ng-invalid text-danger" *ngIf="(f.dataSize.touched && f.dataSize.pristine) || (f.dataSize.errors && submitted)">
                            <span class="small" *ngIf="f.dataSize.errors.required">
                                Data is required!
                            </span>
                        </span>
                    </div>    
                </div>
                <div class="col-6">
                    <label for="voice" class="form-label es-modal-form-label">Voice Calls (Minutes)</label>
                    <input type="number" class="form-control es-input" id="voice" aria-describedby="voice" formControlName="voice">
                    <div>
                        <span class="help-block ng-invalid text-danger" *ngIf="(f.voice.touched && f.voice.pristine) || (f.voice.errors && submitted)">
                            <span class="small" *ngIf="f.voice.errors.required">
                                voice is required!
                            </span>
                        </span>
                    </div>    
                </div>
            </div>
            <div class="mb-3 row">
                <div class="col-6">
                    <label for="sms" class="form-label es-modal-form-label">SMS</label>
                    <input type="number" class="form-control es-input" id="sms" aria-describedby="sms" formControlName="sms">
                    <div>
                        <span class="help-block ng-invalid text-danger" *ngIf="(f.sms.touched && f.sms.pristine) || (f.sms.errors && submitted)">
                            <span class="small" *ngIf="f.sms.errors.required">
                                Sms is required!
                            </span>
                        </span>
                    </div>    
                </div>
                <div class="col-6 mb-3">
                    <label for="planId" class="form-label es-modal-form-label">Region</label>
                    <select formControlName="regionId" class="form-control es-input select-bg">  
                        <option class="select-bg" *ngFor="let region of regionList" [value]="region._id">{{region.name}}</option>  
                    </select>
                    <div>
                        <span class="help-block ng-invalid text-danger" *ngIf="(f.regionId.touched && f.regionId.pristine) || (f.regionId.errors && submitted)">
                            <span class="small" *ngIf="f.regionId.errors.required">
                                Region Id is required!
                            </span>
                        </span>
                    </div>    
                </div>
            </div>
            <button type="submit" class="btn btn-primary my-4 w-100">Submit</button>
          </form>
    </div>
    <div class="es-modal-footer"></div>
</div>
