<!-- <div class="es-modal info-modal" *ngIf="!inProgress; else spinner">
  <div class="modal-header-flex">
    <div class="modal-header-text-container">
      <div class="mb-3 d-flex">
        <img class="m-auto" src="/assets/icons/info.svg" alt="info-icon" />
      </div>
    </div>
    <div class="es-btn-close-container mt-0 mb-auto me-3">
      <a class="es-btn-close" (click)="close()"></a>
    </div>
  </div>
  <div>
    <p class="modal-header-text mb-0">Coupon Info</p>
  </div>
  <div class="es-modal-body mb-4 coupon-modal">
    <div
      class="row rowHeight40 d-flex align-items-center custom-border-bottom"
      *ngFor="let detail of couponDetailsRow; let i = index"
    >
      <div class="col-5">
        <label class="subscriber-label-text"> {{ detail.title }} </label>
      </div>
      <div class="col-7">
        <label class="subscriber-details-text">
          {{ couponDetails[detail.key] }}
          <span
            class="icon copy ps-3"
            *ngIf="detail?.key == 'code'"
            (click)="copyToClipboard($event, couponDetails.code)"
            [tooltip]="copyText"
            placement="top"
            delay="100"
            offset="5"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_2161_5534"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="20"
                height="20"
              >
                <rect width="20" height="20" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_2161_5534)">
                <path
                  d="M4.16667 18.3332C3.70833 18.3332 3.31583 18.1701 2.98917 17.844C2.66306 17.5173 2.5 17.1248 2.5 16.6665V4.99984H4.16667V16.6665H13.3333V18.3332H4.16667ZM7.5 14.9998C7.04167 14.9998 6.64944 14.8368 6.32333 14.5107C5.99667 14.184 5.83333 13.7915 5.83333 13.3332V3.33317C5.83333 2.87484 5.99667 2.48234 6.32333 2.15567C6.64944 1.82956 7.04167 1.6665 7.5 1.6665H15C15.4583 1.6665 15.8508 1.82956 16.1775 2.15567C16.5036 2.48234 16.6667 2.87484 16.6667 3.33317V13.3332C16.6667 13.7915 16.5036 14.184 16.1775 14.5107C15.8508 14.8368 15.4583 14.9998 15 14.9998H7.5ZM7.5 13.3332H15V3.33317H7.5V13.3332Z"
                  fill="#1C1B1F"
                />
              </g>
            </svg>
          </span>
        </label>
      </div>
    </div>
  </div>
  <div>
    <p class="modal-header-text mb-0">Usage Info</p>
  </div>
  <div class="es-modal-body">
    <div
      class="row rowHeight40 d-flex align-items-center"
      *ngFor="let detail of usageDetailsRow; let i = index; last as isLast"
      [ngClass]="{ 'custom-border-bottom': !isLast }"
    >
      <div class="col-5">
        <label class="subscriber-label-text"> {{ detail.title }} </label>
      </div>
      <div class="col-7">
        <label class="subscriber-details-text">{{
          couponDetails[detail.key]
        }}</label>
      </div>
    </div>
  </div>
  <div class="es-modal-footer d-flex pt-4">
    <button class="btn btn-primary ms-auto w-100" (click)="close()">OK</button>
  </div>
</div> -->

<div class="es-modal info-modal" *ngIf="!inProgress; else spinner">
  <div class="modal-header-flex">
    <div class="modal-header-text-container">
      <div class="mb-3 d-flex">
        <img class="m-auto" src="/assets/icons/info.svg" alt="info-icon" />
      </div>
    </div>
    <div class="es-btn-close-container mt-0 mb-auto me-3">
      <a class="es-btn-close" (click)="close()"></a>
    </div>
  </div>
  <div>
    <p class="modal-header-text mb-0">Coupon Info</p>
  </div>
  <div class="es-modal-body mb-4 coupon-modal">
    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Coupon Creation Date</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">{{
          couponDetails.createdAt | date : "dd-MM-YY"
        }}</label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Coupon Code</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">
          {{ couponDetails.couponCode }}
          <span
            class="icon copy ps-3"
            *ngIf="couponDetails.couponCode"
            (click)="copyToClipboard($event, couponDetails.couponCode)"
            [tooltip]="copyText"
            placement="top"
            delay="100"
            offset="5"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_2161_5534"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="20"
                height="20"
              >
                <rect width="20" height="20" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_2161_5534)">
                <path
                  d="M4.16667 18.3332C3.70833 18.3332 3.31583 18.1701 2.98917 17.844C2.66306 17.5173 2.5 17.1248 2.5 16.6665V4.99984H4.16667V16.6665H13.3333V18.3332H4.16667ZM7.5 14.9998C7.04167 14.9998 6.64944 14.8368 6.32333 14.5107C5.99667 14.184 5.83333 13.7915 5.83333 13.3332V3.33317C5.83333 2.87484 5.99667 2.48234 6.32333 2.15567C6.64944 1.82956 7.04167 1.6665 7.5 1.6665H15C15.4583 1.6665 15.8508 1.82956 16.1775 2.15567C16.5036 2.48234 16.6667 2.87484 16.6667 3.33317V13.3332C16.6667 13.7915 16.5036 14.184 16.1775 14.5107C15.8508 14.8368 15.4583 14.9998 15 14.9998H7.5ZM7.5 13.3332H15V3.33317H7.5V13.3332Z"
                  fill="#1C1B1F"
                />
              </g>
            </svg>
          </span>
        </label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Discount Type</label>
      </div>
      <div class="col-6">
        <label
          class="subscriber-details-text"
          *ngIf="couponDetails.discount?.discountType == 'fixedPrice'"
          >Fix Price</label
        >
        <label
          class="subscriber-details-text"
          *ngIf="couponDetails.discount?.discountType == 'percentage'"
          >Percentage</label
        >
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Discount</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">{{
          couponDetails.discount?.discountType == "fixedPrice"
            ? (couponDetails.discount?.value || 0 | currency)
            : couponDetails.discount?.value + " %"
        }}</label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Start Date</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">{{
          couponDetails.startDate | date : "dd-MM-YY"
        }}</label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">End Date</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">{{
          couponDetails.endDate | date : "dd-MM-YY"
        }}</label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Number of Coupons</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text"
          >{{ couponDetails.numberOfCoupons || 0 }}
        </label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Min Purchase Value</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">{{
          couponDetails.minPurchaseValue || 0 | currency
        }}</label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Max Purchase Value</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">{{
          couponDetails.maxPurchaseValue || 0 | currency
        }}</label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Use Type</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text"
          >{{ couponDetails.useType | titlecase }}
          <span *ngIf="couponDetails.useType == 'multi'"
            >(No. of Use: {{ couponDetails.useCount || 0 }})</span
          ></label
        >
      </div>
    </div>

    <ng-container
      *ngIf="
        couponDetails?.groupId.length == 0 &&
        couponDetails?.supportedPlans &&
        couponDetails?.supportedPlans.length > 0
      "
    >
      <div
        class="row rowHeight40 d-flex align-items-center custom-border-bottom"
      >
        <div class="col-6">
          <label class="subscriber-label-text">Specific Plans</label>
        </div>
        <div class="col-6">
          <label class="subscriber-details-text">
            <span>
              {{ couponDetails?.supportedPlans[0]?.name }}
            </span>
            <span
              class="ng-value-label more"
              [tooltip]="displayList(couponDetails?.supportedPlans)"
              placement="top"
              delay="100"
              offset="15"
              *ngIf="couponDetails?.supportedPlans?.length > 1"
              >+{{ couponDetails?.supportedPlans?.length - 1 }} more</span
            >
          </label>
        </div>
      </div>
    </ng-container>

    <ng-container
      *ngIf="couponDetails?.groupId && couponDetails?.groupId.length > 0"
    >
      <div
        class="row rowHeight40 d-flex align-items-center custom-border-bottom"
      >
        <div class="col-6">
          <label class="subscriber-label-text">Region</label>
        </div>
        <div class="col-6">
          <label class="subscriber-details-text">
            <span>
              {{ couponDetails?.groupId[0]?.name }}
            </span>
            <span
              class="ng-value-label more"
              [tooltip]="displayList(couponDetails?.groupId)"
              placement="top"
              delay="100"
              offset="15"
              *ngIf="couponDetails?.groupId?.length > 1"
              >+{{ couponDetails?.groupId?.length - 1 }} more</span
            >
          </label>
        </div>
      </div>
    </ng-container>

    <ng-container
      *ngIf="
        couponDetails?.groupId.length == 0 &&
        couponDetails?.supportedCountries &&
        couponDetails?.supportedCountries.length > 0
      "
    >
      <div
        class="row rowHeight40 d-flex align-items-center custom-border-bottom"
      >
        <div class="col-6">
          <label class="subscriber-label-text">Country</label>
        </div>
        <div class="col-6">
          <label class="subscriber-details-text">
            <span>
              {{ couponDetails?.supportedCountries[0]?.name }}
            </span>
            <span
              class="ng-value-label more"
              [tooltip]="displayList(couponDetails?.supportedCountries)"
              placement="top"
              delay="100"
              offset="15"
              *ngIf="couponDetails?.supportedCountries?.length > 1"
              >+{{ couponDetails?.supportedCountries?.length - 1 }} more</span
            >
          </label>
        </div>
      </div>
    </ng-container>
  </div>
  <div>
    <p class="modal-header-text mb-0">Usage Info</p>
  </div>
  <div class="es-modal-body">
    <div class="row rowHeight40 d-flex align-items-center custom-border-bottom">
      <div class="col-6">
        <label class="subscriber-label-text">Used Coupon</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">{{
          couponDetails.useCount >= couponDetails.availableCount
            ? couponDetails.useCount - couponDetails.availableCount
            : 0
        }}</label>
      </div>
    </div>

    <div class="row rowHeight40 d-flex align-items-center">
      <div class="col-6">
        <label class="subscriber-label-text">Remaining Coupon</label>
      </div>
      <div class="col-6">
        <label class="subscriber-details-text">{{
          couponDetails.availableCount || 0
        }}</label>
      </div>
    </div>
  </div>
  <div class="es-modal-footer d-flex pt-4">
    <button class="btn btn-primary ms-auto w-100" (click)="close()">OK</button>
  </div>
</div>

<!-- Loading Spinner - Start -->
<ng-template #spinner class="loader-align">
  <app-loading-spinner></app-loading-spinner>
</ng-template>
<!-- Loading Spinner - End -->
