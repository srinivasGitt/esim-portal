<ng-container [formGroup]="form">
  <div>
    <div class="d-flex justify-content-between">
      <div class="input-width">
        <label for="startDate" class="form-label es-modal-form-label">Start Date*</label>
        <div class="d-flex input-icon">
          <mat-form-field
            appearance="outline"
            [ngClass]="{
              'border-purple': form.get('startDate')?.valid && !isDateError,
              'border-error': isDateError
            }"
          >
            <input
              matInput
              [matDatepicker]="startDate"
              formControlName="startDate"
              placeholder="DD-MM-YYYY"
              (click)="startDate.open()"
              [min]="currentDate"
            />
            <mat-datepicker-toggle matIconSuffix [for]="startDate">
              <mat-icon matDatepickerToggleIcon>
                <svg
                  width="15"
                  height="16"
                  viewBox="0 0 15 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    class="calendar-fill-color"
                    d="M7.2 9.6C6.97333 9.6 6.78347 9.5232 6.6304 9.3696C6.4768 9.21653 6.4 9.02667 6.4 8.8C6.4 8.57333 6.4768 8.3832 6.6304 8.2296C6.78347 8.07653 6.97333 8 7.2 8C7.42667 8 7.6168 8.07653 7.7704 8.2296C7.92347 8.3832 8 8.57333 8 8.8C8 9.02667 7.92347 9.21653 7.7704 9.3696C7.6168 9.5232 7.42667 9.6 7.2 9.6ZM4 9.6C3.77333 9.6 3.5832 9.5232 3.4296 9.3696C3.27653 9.21653 3.2 9.02667 3.2 8.8C3.2 8.57333 3.27653 8.3832 3.4296 8.2296C3.5832 8.07653 3.77333 8 4 8C4.22667 8 4.4168 8.07653 4.5704 8.2296C4.72347 8.3832 4.8 8.57333 4.8 8.8C4.8 9.02667 4.72347 9.21653 4.5704 9.3696C4.4168 9.5232 4.22667 9.6 4 9.6ZM10.4 9.6C10.1733 9.6 9.98347 9.5232 9.8304 9.3696C9.6768 9.21653 9.6 9.02667 9.6 8.8C9.6 8.57333 9.6768 8.3832 9.8304 8.2296C9.98347 8.07653 10.1733 8 10.4 8C10.6267 8 10.8165 8.07653 10.9696 8.2296C11.1232 8.3832 11.2 8.57333 11.2 8.8C11.2 9.02667 11.1232 9.21653 10.9696 9.3696C10.8165 9.5232 10.6267 9.6 10.4 9.6ZM7.2 12.8C6.97333 12.8 6.78347 12.7232 6.6304 12.5696C6.4768 12.4165 6.4 12.2267 6.4 12C6.4 11.7733 6.4768 11.5835 6.6304 11.4304C6.78347 11.2768 6.97333 11.2 7.2 11.2C7.42667 11.2 7.6168 11.2768 7.7704 11.4304C7.92347 11.5835 8 11.7733 8 12C8 12.2267 7.92347 12.4165 7.7704 12.5696C7.6168 12.7232 7.42667 12.8 7.2 12.8ZM4 12.8C3.77333 12.8 3.5832 12.7232 3.4296 12.5696C3.27653 12.4165 3.2 12.2267 3.2 12C3.2 11.7733 3.27653 11.5835 3.4296 11.4304C3.5832 11.2768 3.77333 11.2 4 11.2C4.22667 11.2 4.4168 11.2768 4.5704 11.4304C4.72347 11.5835 4.8 11.7733 4.8 12C4.8 12.2267 4.72347 12.4165 4.5704 12.5696C4.4168 12.7232 4.22667 12.8 4 12.8ZM10.4 12.8C10.1733 12.8 9.98347 12.7232 9.8304 12.5696C9.6768 12.4165 9.6 12.2267 9.6 12C9.6 11.7733 9.6768 11.5835 9.8304 11.4304C9.98347 11.2768 10.1733 11.2 10.4 11.2C10.6267 11.2 10.8165 11.2768 10.9696 11.4304C11.1232 11.5835 11.2 11.7733 11.2 12C11.2 12.2267 11.1232 12.4165 10.9696 12.5696C10.8165 12.7232 10.6267 12.8 10.4 12.8ZM1.6 16C1.16 16 0.7832 15.8435 0.4696 15.5304C0.156533 15.2168 0 14.84 0 14.4V3.2C0 2.76 0.156533 2.38347 0.4696 2.0704C0.7832 1.7568 1.16 1.6 1.6 1.6H2.4V0H4V1.6H10.4V0H12V1.6H12.8C13.24 1.6 13.6168 1.7568 13.9304 2.0704C14.2435 2.38347 14.4 2.76 14.4 3.2V14.4C14.4 14.84 14.2435 15.2168 13.9304 15.5304C13.6168 15.8435 13.24 16 12.8 16H1.6ZM1.6 14.4H12.8V6.4H1.6V14.4Z"
                    fill="#475467"
                  />
                </svg>
              </mat-icon>
            </mat-datepicker-toggle>
            <mat-datepicker #startDate></mat-datepicker>
          </mat-form-field>
        </div>
      </div>

      <div class="input-width">
        <label for="endDate" class="form-label es-modal-form-label">End Date*</label>
        <div class="d-flex input-icon">
          <mat-form-field
            appearance="outline"
            [ngClass]="{
              'border-purple': form.get('endDate')?.valid && !isDateError,
              'border-error': isDateError
            }"
          >
            <input
              matInput
              [matDatepicker]="endDate"
              formControlName="endDate"
              placeholder="DD-MM-YYYY"
              (click)="endDate.open()"
              [min]="form.get('startDate')?.value"
              #matDatePickerEle
            />
            <mat-datepicker-toggle matIconSuffix [for]="endDate">
              <mat-icon matDatepickerToggleIcon>
                <svg
                  width="15"
                  height="16"
                  viewBox="0 0 15 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    class="calendar-fill-color"
                    d="M7.2 9.6C6.97333 9.6 6.78347 9.5232 6.6304 9.3696C6.4768 9.21653 6.4 9.02667 6.4 8.8C6.4 8.57333 6.4768 8.3832 6.6304 8.2296C6.78347 8.07653 6.97333 8 7.2 8C7.42667 8 7.6168 8.07653 7.7704 8.2296C7.92347 8.3832 8 8.57333 8 8.8C8 9.02667 7.92347 9.21653 7.7704 9.3696C7.6168 9.5232 7.42667 9.6 7.2 9.6ZM4 9.6C3.77333 9.6 3.5832 9.5232 3.4296 9.3696C3.27653 9.21653 3.2 9.02667 3.2 8.8C3.2 8.57333 3.27653 8.3832 3.4296 8.2296C3.5832 8.07653 3.77333 8 4 8C4.22667 8 4.4168 8.07653 4.5704 8.2296C4.72347 8.3832 4.8 8.57333 4.8 8.8C4.8 9.02667 4.72347 9.21653 4.5704 9.3696C4.4168 9.5232 4.22667 9.6 4 9.6ZM10.4 9.6C10.1733 9.6 9.98347 9.5232 9.8304 9.3696C9.6768 9.21653 9.6 9.02667 9.6 8.8C9.6 8.57333 9.6768 8.3832 9.8304 8.2296C9.98347 8.07653 10.1733 8 10.4 8C10.6267 8 10.8165 8.07653 10.9696 8.2296C11.1232 8.3832 11.2 8.57333 11.2 8.8C11.2 9.02667 11.1232 9.21653 10.9696 9.3696C10.8165 9.5232 10.6267 9.6 10.4 9.6ZM7.2 12.8C6.97333 12.8 6.78347 12.7232 6.6304 12.5696C6.4768 12.4165 6.4 12.2267 6.4 12C6.4 11.7733 6.4768 11.5835 6.6304 11.4304C6.78347 11.2768 6.97333 11.2 7.2 11.2C7.42667 11.2 7.6168 11.2768 7.7704 11.4304C7.92347 11.5835 8 11.7733 8 12C8 12.2267 7.92347 12.4165 7.7704 12.5696C7.6168 12.7232 7.42667 12.8 7.2 12.8ZM4 12.8C3.77333 12.8 3.5832 12.7232 3.4296 12.5696C3.27653 12.4165 3.2 12.2267 3.2 12C3.2 11.7733 3.27653 11.5835 3.4296 11.4304C3.5832 11.2768 3.77333 11.2 4 11.2C4.22667 11.2 4.4168 11.2768 4.5704 11.4304C4.72347 11.5835 4.8 11.7733 4.8 12C4.8 12.2267 4.72347 12.4165 4.5704 12.5696C4.4168 12.7232 4.22667 12.8 4 12.8ZM10.4 12.8C10.1733 12.8 9.98347 12.7232 9.8304 12.5696C9.6768 12.4165 9.6 12.2267 9.6 12C9.6 11.7733 9.6768 11.5835 9.8304 11.4304C9.98347 11.2768 10.1733 11.2 10.4 11.2C10.6267 11.2 10.8165 11.2768 10.9696 11.4304C11.1232 11.5835 11.2 11.7733 11.2 12C11.2 12.2267 11.1232 12.4165 10.9696 12.5696C10.8165 12.7232 10.6267 12.8 10.4 12.8ZM1.6 16C1.16 16 0.7832 15.8435 0.4696 15.5304C0.156533 15.2168 0 14.84 0 14.4V3.2C0 2.76 0.156533 2.38347 0.4696 2.0704C0.7832 1.7568 1.16 1.6 1.6 1.6H2.4V0H4V1.6H10.4V0H12V1.6H12.8C13.24 1.6 13.6168 1.7568 13.9304 2.0704C14.2435 2.38347 14.4 2.76 14.4 3.2V14.4C14.4 14.84 14.2435 15.2168 13.9304 15.5304C13.6168 15.8435 13.24 16 12.8 16H1.6ZM1.6 14.4H12.8V6.4H1.6V14.4Z"
                    fill="#475467"
                  />
                </svg>
              </mat-icon>
            </mat-datepicker-toggle>
            <mat-datepicker #endDate></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
    </div>

    <div>
      <span class="help-block ng-invalid text-danger" *ngIf="isDateError">
        <span class="small"> Please set a start date and a end date </span>
      </span>
    </div>
  </div>

  <div class="d-flex justify-content-between discount-value div-height mt-3">
    <div class="w-100">
      <label for="total" class="form-label es-modal-form-label">Number of Coupon*</label>
      <div class="d-flex relative">
        <input
          type="text"
          class="form-control es-input price-input number-input-right-padding"
          id="total"
          aria-describedby="total"
          formControlName="total"
          appNumberOnly
          [ngClass]="{
            'border-purple border-right-valid-color': form.get('total')?.valid,
            'border-error':
              form.get('total')?.touched &&
              (form.get('total')?.errors?.['required'] || form.get('total')?.errors?.['min'])
          }"
        />
        <span
          class="form-label es-modal-form-label coupon-input-icon"
          [ngClass]="{
            'border-right-error-color':
              form.get('total')?.touched &&
              (form.get('total')?.errors?.['required'] || form.get('total')?.errors?.['min'])
                ? 'rgb(234,155,155)'
                : '',
            'border-right-valid-color': form.get('total')?.valid
          }"
        >
          <svg
            width="20"
            height="16"
            viewBox="0 0 20 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g id="Group">
              <path
                class="stroke-color"
                id="Vector"
                d="M11.5046 1H7.99583C4.68833 1 3.03458 1 2.00645 2.0255C1.2977 2.73075 1.07808 3.73263 1.00895 5.36538C0.995827 5.68913 0.988827 5.85188 1.0492 5.9595C1.11045 6.06713 1.35108 6.20275 1.83408 6.47225C2.10614 6.62393 2.33277 6.84551 2.49054 7.11409C2.64831 7.38267 2.73149 7.68851 2.73149 8C2.73149 8.31149 2.64831 8.61733 2.49054 8.88591C2.33277 9.15449 2.10614 9.37607 1.83408 9.52775C1.35108 9.79813 1.10958 9.93287 1.0492 10.0405C0.988827 10.1481 0.995827 10.31 1.00983 10.6338C1.07808 12.2674 1.29858 13.2692 2.00645 13.9745C3.0337 15 4.68745 15 7.99583 15H11.5046C14.8121 15 16.4658 15 17.494 13.9745C18.2027 13.2692 18.4223 12.2674 18.4915 10.6346C18.5046 10.3109 18.5116 10.1481 18.4512 10.0405C18.39 9.93287 18.1493 9.79813 17.6663 9.52775C17.3943 9.37607 17.1676 9.15449 17.0099 8.88591C16.8521 8.61733 16.7689 8.31149 16.7689 8C16.7689 7.68851 16.8521 7.38267 17.0099 7.11409C17.1676 6.84551 17.3943 6.62393 17.6663 6.47225C18.1493 6.20275 18.3908 6.06713 18.4512 5.9595C18.5116 5.85188 18.5046 5.69 18.4906 5.36538C18.4223 3.73263 18.2018 2.73162 17.494 2.0255C16.4667 1 14.813 1 11.5046 1Z"
                stroke="black"
                stroke-width="1.5"
              />
              <path
                class="stroke-color"
                id="Vector_2"
                d="M7.12524 10.625L12.3752 5.375"
                stroke="black"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                class="fill-color"
                id="Vector_3"
                d="M12.8127 10.1875C12.8127 10.4196 12.7206 10.6421 12.5565 10.8062C12.3924 10.9703 12.1698 11.0625 11.9377 11.0625C11.7057 11.0625 11.4831 10.9703 11.319 10.8062C11.1549 10.6421 11.0627 10.4196 11.0627 10.1875C11.0627 9.95544 11.1549 9.73288 11.319 9.56878C11.4831 9.40469 11.7057 9.3125 11.9377 9.3125C12.1698 9.3125 12.3924 9.40469 12.5565 9.56878C12.7206 9.73288 12.8127 9.95544 12.8127 10.1875ZM8.43774 5.8125C8.43774 6.04456 8.34556 6.26712 8.18146 6.43122C8.01737 6.59531 7.79481 6.6875 7.56274 6.6875C7.33068 6.6875 7.10812 6.59531 6.94403 6.43122C6.77993 6.26712 6.68774 6.04456 6.68774 5.8125C6.68774 5.58044 6.77993 5.35788 6.94403 5.19378C7.10812 5.02969 7.33068 4.9375 7.56274 4.9375C7.79481 4.9375 8.01737 5.02969 8.18146 5.19378C8.34556 5.35788 8.43774 5.58044 8.43774 5.8125Z"
                fill="black"
              />
            </g>
          </svg>
        </span>
      </div>
      <div class="input-number-btn">
        <span class="number-decremental" (click)="updateValue('total', 'dec')"> - </span>
        <span class="number-incremental" (click)="updateValue('total', 'inc')"> + </span>
      </div>
      <div class="mt-2">
        <span
          class="help-block ng-invalid text-danger"
          *ngIf="form.get('total')?.touched || form.get('total')?.dirty"
        >
          <span
            class="small"
            *ngIf="form.get('total')?.errors?.['required'] || form.get('total')?.errors?.['min']"
          >
            No. of coupon entered is invalid, please check the details and try again.
          </span>
        </span>
      </div>
    </div>
  </div>

  <div class="div-height mb-2">
    <div class="d-flex justify-content-between">
      <div class="input-width">
        <label for="minPurchaseValue" class="form-label es-modal-form-label"
          >Minimum Purchase Value</label
        >
        <div class="d-flex relative">
          <input
            type="text"
            class="form-control es-input price-input number-input-right-padding"
            id="minPurchaseValue"
            aria-describedby="minPurchaseValue"
            formControlName="minPurchaseValue"
            (input)="updateMinMaxValidation()"
            appNumberOnly
            [ngClass]="{
              'border-purple border-right-valid-color': form.get('minPurchaseValue')?.valid,
              'border-error':
                form.get('minPurchaseValue')?.dirty &&
                (form.get('minPurchaseValue')?.errors?.['min'] ||
                  form.get('maxPurchaseValue')?.errors?.['min'])
            }"
          />
          <span
            class="form-label es-modal-form-label price-input-icon"
            [ngClass]="{
              'border-right-valid-color': form.get('minPurchaseValue')?.valid,
              'border-right-error-color':
                form.get('minPurchaseValue')?.dirty &&
                (form.get('minPurchaseValue')?.errors?.['min'] ||
                  form.get('maxPurchaseValue')?.errors?.['min'])
            }"
          >
            <svg
              width="22"
              height="22"
              viewBox="0 0 22 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_464_18397"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="22"
                height="22"
              >
                <rect width="22" height="22" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_464_18397)">
                <path
                  d="M10.1055 19.25V17.2792C9.29581 17.0958 8.59701 16.7444 8.00912 16.225C7.42062 15.7056 6.98887 14.9722 6.71387 14.025L8.4097 13.3375C8.63887 14.0708 8.97895 14.6285 9.42995 15.0104C9.88034 15.3924 10.4722 15.5833 11.2055 15.5833C11.8319 15.5833 12.363 15.4422 12.7987 15.1598C13.2338 14.8769 13.4514 14.4375 13.4514 13.8417C13.4514 13.3069 13.2833 12.8828 12.9472 12.5693C12.6111 12.2564 11.8319 11.9014 10.6097 11.5042C9.29581 11.0917 8.39442 10.5991 7.90553 10.0265C7.41665 9.45328 7.1722 8.75417 7.1722 7.92917C7.1722 6.93611 7.49303 6.16458 8.1347 5.61458C8.77637 5.06458 9.43331 4.75139 10.1055 4.675V2.75H11.9389V4.675C12.7028 4.79722 13.3331 5.07589 13.83 5.511C14.3262 5.94672 14.6889 6.47778 14.918 7.10417L13.2222 7.8375C13.0389 7.34861 12.7791 6.98194 12.443 6.7375C12.1069 6.49306 11.6486 6.37083 11.068 6.37083C10.3958 6.37083 9.88401 6.51994 9.53262 6.81817C9.18123 7.11578 9.00553 7.48611 9.00553 7.92917C9.00553 8.43333 9.2347 8.83056 9.69303 9.12083C10.1514 9.41111 10.9458 9.71667 12.0764 10.0375C13.1305 10.3431 13.929 10.828 14.4716 11.4922C15.0137 12.1571 15.2847 12.925 15.2847 13.7958C15.2847 14.8806 14.9639 15.7056 14.3222 16.2708C13.6805 16.8361 12.8861 17.1875 11.9389 17.325V19.25H10.1055Z"
                  fill="#475467"
                />
              </g>
            </svg>
          </span>
        </div>
        <div class="input-number-btn min-max-value">
          <span class="number-decremental" (click)="updateValue('minPurchaseValue', 'dec')">
            -
          </span>
          <span class="number-incremental" (click)="updateValue('minPurchaseValue', 'inc')">
            +
          </span>
        </div>
      </div>
      <div class="input-width">
        <label for="maxPurchaseValue" class="form-label es-modal-form-label"
          >Maximum Purchase Value</label
        >
        <div class="d-flex relative">
          <input
            type="text"
            class="form-control es-input price-input number-input-right-padding"
            id="maxPurchaseValue"
            aria-describedby="maxPurchaseValue"
            formControlName="maxPurchaseValue"
            (input)="updateMinMaxValidation()"
            appNumberOnly
            [ngClass]="{
              'border-purple border-right-valid-color': form.get('maxPurchaseValue')?.valid,
              'border-error':
                form.get('maxPurchaseValue')?.dirty &&
                (form.get('minPurchaseValue')?.errors?.['min'] ||
                  form.get('maxPurchaseValue')?.errors?.['min'])
            }"
          />
          <span
            class="form-label es-modal-form-label price-input-icon"
            [ngClass]="{
              'border-right-valid-color': form.get('maxPurchaseValue')?.valid,
              'border-right-error-color':
                form.get('maxPurchaseValue')?.dirty &&
                (form.get('minPurchaseValue')?.errors?.['min'] ||
                  form.get('maxPurchaseValue')?.errors?.['min'])
            }"
          >
            <svg
              width="22"
              height="22"
              viewBox="0 0 22 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_464_18397"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="22"
                height="22"
              >
                <rect width="22" height="22" fill="#D9D9D9" />
              </mask>
              <g mask="url(#mask0_464_18397)">
                <path
                  d="M10.1055 19.25V17.2792C9.29581 17.0958 8.59701 16.7444 8.00912 16.225C7.42062 15.7056 6.98887 14.9722 6.71387 14.025L8.4097 13.3375C8.63887 14.0708 8.97895 14.6285 9.42995 15.0104C9.88034 15.3924 10.4722 15.5833 11.2055 15.5833C11.8319 15.5833 12.363 15.4422 12.7987 15.1598C13.2338 14.8769 13.4514 14.4375 13.4514 13.8417C13.4514 13.3069 13.2833 12.8828 12.9472 12.5693C12.6111 12.2564 11.8319 11.9014 10.6097 11.5042C9.29581 11.0917 8.39442 10.5991 7.90553 10.0265C7.41665 9.45328 7.1722 8.75417 7.1722 7.92917C7.1722 6.93611 7.49303 6.16458 8.1347 5.61458C8.77637 5.06458 9.43331 4.75139 10.1055 4.675V2.75H11.9389V4.675C12.7028 4.79722 13.3331 5.07589 13.83 5.511C14.3262 5.94672 14.6889 6.47778 14.918 7.10417L13.2222 7.8375C13.0389 7.34861 12.7791 6.98194 12.443 6.7375C12.1069 6.49306 11.6486 6.37083 11.068 6.37083C10.3958 6.37083 9.88401 6.51994 9.53262 6.81817C9.18123 7.11578 9.00553 7.48611 9.00553 7.92917C9.00553 8.43333 9.2347 8.83056 9.69303 9.12083C10.1514 9.41111 10.9458 9.71667 12.0764 10.0375C13.1305 10.3431 13.929 10.828 14.4716 11.4922C15.0137 12.1571 15.2847 12.925 15.2847 13.7958C15.2847 14.8806 14.9639 15.7056 14.3222 16.2708C13.6805 16.8361 12.8861 17.1875 11.9389 17.325V19.25H10.1055Z"
                  fill="#475467"
                />
              </g>
            </svg>
          </span>
        </div>
        <div class="input-number-btn min-max-value">
          <span class="number-decremental" (click)="updateValue('maxPurchaseValue', 'dec')">
            -
          </span>
          <span class="number-incremental" (click)="updateValue('maxPurchaseValue', 'inc')">
            +
          </span>
        </div>
      </div>
    </div>
    <div class="mt-2">
      <span
        class="help-block ng-invalid text-danger"
        *ngIf="
          form.get('minPurchaseValue')?.errors?.['min'] ||
          form.get('maxPurchaseValue')?.errors?.['min']
        "
      >
        <span class="x-small">
          Minimum or maximum purchase value is invalid, please check the details and try again.
        </span>
      </span>
    </div>
  </div>
  <div class="div-height mt-2">
    <div>
      <label for="discount-type" class="form-label es-modal-form-label">Use Type*</label>
    </div>
    <div class="d-flex justify-content-between">
      <div
        class="form-check form-check-inline custom-radio-div"
        [ngClass]="{ checked: form.get('useType')?.value === 'single' }"
      >
        <label for="single" class="w90">One Time</label>
        <input
          type="radio"
          name="useType"
          id="single"
          formControlName="useType"
          value="single"
          (change)="onRadioButtonChange('single')"
        />
      </div>
      <div
        class="form-check form-check-inline custom-radio-div"
        [ngClass]="{ checked: form.get('useType')?.value === 'multi' }"
      >
        <label for="multi" class="w90">Multi Use</label>
        <input
          type="radio"
          name="useType"
          id="multi"
          formControlName="useType"
          value="multi"
          (change)="onRadioButtonChange('multi'); updateValidation()"
        />
      </div>
    </div>
  </div>

  <div class="use-div" *ngIf="form.get('useType')?.value === 'multi'">
    <div class="d-flex justify-content-between">
      <div class="w-100 position-relative div-height">
        <div class="mb-2">
          <label for="totalUse">Number of Use</label>
        </div>
        <div class="d-flex position-relative use-count-div">
          <input
            type="text"
            class="form-control es-input price-input number-input-right-padding"
            aria-describedby="totalUse"
            formControlName="totalUse"
            (focus)="onInputFocus(); updateValidation()"
            appNumberOnly
            [ngClass]="{
              'border-purple border-right-valid-color': form.get('totalUse')?.valid,
              'border-error':
                form.get('totalUseType')?.value === 'limited' &&
                form.get('totalUse')?.dirty &&
                (form.get('totalUse')?.errors?.['required'] ||
                  form.get('totalUse')?.errors?.['min'])
            }"
          />
          <span
            class="es-modal-form-label number-of-use-icon"
            [ngClass]="{
              'border-right-valid-color': form.get('totalUse')?.valid,
              'border-right-error-color':
                form.get('totalUseType')?.value === 'limited' &&
                form.get('totalUse')?.dirty &&
                (form.get('totalUse')?.errors?.['required'] ||
                  form.get('totalUse')?.errors?.['min'])
            }"
          >
            <svg
              width="22"
              height="22"
              viewBox="0 0 22 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M3 16.0002V6.00018L10 16.0002V6.00018M14 16.0002H19M14 9.00018C14 9.79583 14.2634 10.5589 14.7322 11.1215C15.2011 11.6841 15.837 12.0002 16.5 12.0002C17.163 12.0002 17.7989 11.6841 18.2678 11.1215C18.7366 10.5589 19 9.79583 19 9.00018C19 8.20453 18.7366 7.44147 18.2678 6.87886C17.7989 6.31625 17.163 6.00018 16.5 6.00018C15.837 6.00018 15.2011 6.31625 14.7322 6.87886C14.2634 7.44147 14 8.20453 14 9.00018Z"
                stroke="#475467"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </span>
        </div>
        <input
          class="position-absolute"
          type="radio"
          id="totalUse"
          name="totalUseType"
          name="totalUseType"
          formControlName="totalUseType"
          value="limited"
          (change)="onRadioButtonChange('limited')"
        />
        <div class="total-use-number-button">
          <span class="number-decremental" (click)="updateValue('totalUse', 'dec')"> - </span>
          <span class="number-incremental" (click)="updateValue('totalUse', 'inc')"> + </span>
        </div>
        <div *ngIf="form.get('totalUseType')?.value === 'limited'">
          <span
            class="help-block ng-invalid text-danger"
            *ngIf="
              form.get('totalUse')?.dirty &&
              (form.get('totalUse')?.errors?.['required'] || form.get('totalUse')?.errors?.['min'])
            "
          >
            <span class="small text-wrap x-small">
              No. of use entered is invalid, please check the details and try again.
            </span>
          </span>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-between">
      <div class="form-check form-check-inline custom-radio-div-block">
        <label for="unlimited" class="w96">Unlimited Use</label>
        <input
          type="radio"
          name="unlimited"
          id="unlimited"
          name="totalUseType"
          formControlName="totalUseType"
          value="unlimited"
          (change)="onRadioButtonChange('unlimited')"
        />
      </div>
    </div>
  </div>
</ng-container>
