<ng-container [formGroup]="form">
  <!-- Company name and website -->
  <div class="row p-3">
    <div class="col-6 border-bottom pb-2">
      <div class="div-height">
        <label for="name" class="form-label es-modal-form-label">Company Name*</label>
        <input
          type="text"
          class="form-control es-input"
          id="name"
          aria-describedby="name"
          name="name"
          formControlName="name"
          placeholder="Enter the full company name"
          [ngClass]="{
            'border-purple': form.get('name')?.valid,
            'border-error':
              form.get('name')?.touched &&
              form.get('name')?.dirty &&
              (form.get('name')?.errors?.['required'] ||
                form.get('name')?.errors?.['spacesOnly'] ||
                form.get('name')?.errors?.['minlength'] ||
                form.get('name')?.errors?.['maxlength'])
          }"
        />
        <div>
          <span
            class="help-block ng-invalid text-danger"
            *ngIf="
              form.get('name')?.touched &&
              form.get('name')?.dirty &&
              form.get('name')?.errors
            "
          >
            <span class="small" *ngIf="form.get('name')?.errors?.['required']"
              >Company Name is required!</span
            >
            <span class="small" *ngIf="form.get('name')?.errors?.['spacesOnly']"
              >Value contains spaces only!</span
            >
            <span
              class="small"
              *ngIf="
                form.get('name')?.errors?.['minlength'] ||
                form.get('name')?.errors?.['maxlength']
              "
            >
              Company name must have min.
              {{ form.get('name')?.errors?.['minlength']?.['requiredLength'] }}
              or max.
              {{ form.get('name')?.errors?.['maxlength']?.['requiredLength'] }}
              characters.
            </span>
          </span>
        </div>
      </div>
    </div>
    <div class="col-6 border-bottom">
      <div class="div-height">
        <label for="website" class="form-label es-modal-form-label">Website Link</label>
        <input
          type="text"
          class="form-control es-input"
          id="website"
          aria-describedby="website"
          name="website"
          formControlName="websiteLink"
          placeholder="Enter the full company name"
          [ngClass]="{
            'border-purple':
              form.get('websiteLink')?.touched &&
              form.get('websiteLink')?.dirty &&
              form.get('websiteLink')?.valid,
            'border-error':
              form.get('websiteLink')?.touched &&
              form.get('websiteLink')?.dirty &&
              form.get('websiteLink')?.errors?.['invalidWebsite']
          }"
        />
        <div>
          <span
            class="help-block ng-invalid text-danger"
            *ngIf="
              form.get('websiteLink')?.touched &&
              form.get('websiteLink')?.dirty &&
              form.get('websiteLink')?.errors
            "
          >
            <span class="small" *ngIf="form.get('websiteLink')?.errors?.['invalidWebsite']">
              Invalid website address
            </span>
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- Billing Address -->
  <ng-container formGroupName="billingAddress">
    <div class="title-section px-3 pb-2">
      <h2 class="form-group-title">Billing Address</h2>
    </div>
    <div class="row px-3">
      <div class="col-6">
        <div class="div-height">
          <label for="addressLine" class="form-label es-modal-form-label">Address Line*</label>
          <input
            type="text"
            class="form-control es-input"
            id="addressLine"
            aria-describedby="addressLine"
            name="addressLine"
            formControlName="addressLine"
            placeholder="Enter the address of the company"
            [ngClass]="{
              'border-purple': form.controls['billingAddress'].get('addressLine')?.valid,
              'border-error':
                form.controls['billingAddress'].get('addressLine')?.touched &&
                form.controls['billingAddress'].get('addressLine')?.dirty &&
                (form.controls['billingAddress'].get('addressLine')?.errors?.['required'] ||
                  form.controls['billingAddress'].get('addressLine')?.errors?.['spacesOnly'] ||
                  form.controls['billingAddress'].get('addressLine')?.errors?.['minlength'] ||
                  form.controls['billingAddress'].get('addressLine')?.errors?.['maxlength'])
            }"
          />
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['billingAddress'].get('addressLine')?.touched &&
                form.controls['billingAddress'].get('addressLine')?.dirty &&
                form.controls['billingAddress'].get('addressLine')?.errors
              "
            >
              <span
                class="small"
                *ngIf="
                  form.controls['billingAddress'].get('addressLine')?.errors?.['required'] ||
                  form.controls['billingAddress'].get('addressLine')?.errors?.['minlength'] ||
                  form.controls['billingAddress'].get('addressLine')?.errors?.['maxlength']
                "
                >Address Line is required!</span
              >
            </span>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="div-height">
          <label for="landmark" class="form-label es-modal-form-label">Landmark</label>
          <input
            type="text"
            class="form-control es-input"
            id="landmark"
            aria-describedby="landmark"
            name="landmark"
            formControlName="landmark"
            placeholder="Enter the nearby landmark"
            [ngClass]="{
              'border-purple':
                form.controls['billingAddress'].get('landmark')?.touched &&
                form.controls['billingAddress'].get('landmark')?.dirty &&
                form.controls['billingAddress'].get('landmark')?.valid,
              'border-error':
                form.controls['billingAddress'].get('landmark')?.touched &&
                form.controls['billingAddress'].get('landmark')?.dirty &&
                (form.controls['billingAddress'].get('landmark')?.errors?.['minlength'] ||
                  form.controls['billingAddress'].get('landmark')?.errors?.['maxlength'])
            }"
          />
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['billingAddress'].get('landmark')?.touched &&
                form.controls['billingAddress'].get('landmark')?.dirty &&
                form.controls['billingAddress'].get('landmark')?.errors
              "
            >
              <span
                class="small"
                *ngIf="
                  form.controls['billingAddress'].get('landmark')?.errors?.['minlength'] ||
                  form.controls['billingAddress'].get('landmark')?.errors?.['maxlength']
                "
              >
                Company name must have min.
                {{
                  form.controls['billingAddress'].get('landmark')?.errors?.['minlength']?.[
                    'requiredLength'
                  ]
                }}
                or max.
                {{
                  form.controls['billingAddress'].get('landmark')?.errors?.['maxlength']?.[
                    'requiredLength'
                  ]
                }}
                characters.
              </span>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="row px-3">
      <div class="col-6">
        <div class="div-height">
          <label for="pincode" class="form-label es-modal-form-label">PIN Code*</label>
          <input
            type="text"
            class="form-control es-input"
            id="pincode"
            aria-describedby="pincode"
            name="pincode"
            formControlName="pincode"
            placeholder="Enter the PIN Code"
            [ngClass]="{
              'border-purple':
                form.controls['billingAddress'].get('pincode')?.touched &&
                form.controls['billingAddress'].get('pincode')?.dirty &&
                form.controls['billingAddress'].get('pincode')?.valid,
              'border-error':
                form.controls['billingAddress'].get('pincode')?.touched &&
                form.controls['billingAddress'].get('pincode')?.dirty &&
                (form.controls['billingAddress'].get('pincode')?.errors?.['required'] ||
                  form.controls['billingAddress'].get('pincode')?.errors?.['pattern'])
            }"
          />
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['billingAddress'].get('pincode')?.touched &&
                form.controls['billingAddress'].get('pincode')?.dirty &&
                form.controls['billingAddress'].get('pincode')?.errors
              "
            >
              <span
                class="small"
                *ngIf="form.controls['billingAddress'].get('pincode')?.errors?.['required']"
                >PIN Code is required!</span
              >
              <span
                class="small"
                *ngIf="form.controls['billingAddress'].get('pincode')?.errors?.['pattern']"
                >Invalid PIN Code Format!</span
              >
            </span>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="div-height">
          <label for="city" class="form-label es-modal-form-label">City*</label>
          <input
            type="text"
            class="form-control es-input"
            id="city"
            aria-describedby="city"
            name="city"
            formControlName="city"
            placeholder="Enter the city of the address"
            [ngClass]="{
              'border-purple':
                form.controls['billingAddress'].get('city')?.touched &&
                form.controls['billingAddress'].get('city')?.dirty &&
                form.controls['billingAddress'].get('city')?.valid,
              'border-error':
                form.controls['billingAddress'].get('city')?.touched &&
                form.controls['billingAddress'].get('city')?.dirty &&
                form.controls['billingAddress'].get('city')?.errors?.['required']
            }"
          />
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['billingAddress'].get('city')?.touched &&
                form.controls['billingAddress'].get('city')?.dirty &&
                form.controls['billingAddress'].get('city')?.errors
              "
            >
              <span
                class="small"
                *ngIf="form.controls['billingAddress'].get('city')?.errors?.['required']"
                >City is required!</span
              >
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="row px-3 pb-3">
      <div class="col-6 border-bottom">
        <div class="div-height">
          <label for="state" class="form-label es-modal-form-label">State*</label>
          <input
            type="text"
            class="form-control es-input"
            id="state"
            aria-describedby="state"
            name="state"
            formControlName="state"
            placeholder="Enter the state of the address"
            [ngClass]="{
              'border-purple':
                form.controls['billingAddress'].get('state')?.touched &&
                form.controls['billingAddress'].get('state')?.dirty &&
                form.controls['billingAddress'].get('state')?.valid,
              'border-error':
                form.controls['billingAddress'].get('state')?.touched &&
                form.controls['billingAddress'].get('state')?.dirty &&
                form.controls['billingAddress'].get('state')?.errors?.['required']
            }"
          />
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['billingAddress'].get('state')?.touched &&
                form.controls['billingAddress'].get('state')?.dirty &&
                form.controls['billingAddress'].get('state')?.errors
              "
            >
              <span
                class="small"
                *ngIf="form.controls['billingAddress'].get('state')?.errors?.['required']"
                >State is required!</span
              >
            </span>
          </div>
        </div>
      </div>
      <div class="col-6 border-bottom">
        <div class="div-height">
          <label for="country" class="form-label es-modal-form-label">Country*</label>
          <input
            type="text"
            class="form-control es-input"
            id="country"
            aria-describedby="country"
            name="country"
            formControlName="country"
            placeholder="Enter the country of the address"
            [ngClass]="{
              'border-purple':
                form.controls['billingAddress'].get('country')?.touched &&
                form.controls['billingAddress'].get('country')?.dirty &&
                form.controls['billingAddress'].get('country')?.valid,
              'border-error':
                form.controls['billingAddress'].get('country')?.touched &&
                form.controls['billingAddress'].get('country')?.dirty &&
                form.controls['billingAddress'].get('country')?.errors?.['required']
            }"
          />
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['billingAddress'].get('country')?.touched &&
                form.controls['billingAddress'].get('country')?.dirty &&
                form.controls['billingAddress'].get('country')?.errors
              "
            >
              <span
                class="small"
                *ngIf="form.controls['billingAddress'].get('country')?.errors?.['required']"
                >Country is required!</span
              >
            </span>
          </div>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- Contact Details -->
  <ng-container formGroupName="contactDetails">
    <div class="title-section px-3 pb-2">
      <h2 class="form-group-title">Contact Details*</h2>
    </div>
    <div class="row px-3">
      <div class="col-6">
        <div class="div-height">
          <label for="email" class="form-label es-modal-form-label">Email Address</label>
          <input
            type="text"
            class="form-control es-input"
            id="email"
            aria-describedby="email"
            name="email"
            formControlName="emailAddress"
            placeholder="Enter the companyâ€™s email address"
            [ngClass]="{
              'border-purple':
                form.controls['contactDetails'].get('emailAddress')?.touched &&
                form.controls['contactDetails'].get('emailAddress')?.dirty &&
                form.controls['contactDetails'].get('emailAddress')?.valid,
              'border-error':
                form.controls['contactDetails'].get('emailAddress')?.touched &&
                form.controls['contactDetails'].get('emailAddress')?.dirty &&
                (form.controls['contactDetails'].get('emailAddress')?.errors?.['required'] ||
                  form.controls['contactDetails'].get('emailAddress')?.errors?.['minlength'] ||
                  form.controls['contactDetails'].get('emailAddress')?.errors?.['maxlength'])
            }"
          />
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['contactDetails'].get('emailAddress')?.touched &&
                form.controls['contactDetails'].get('emailAddress')?.dirty &&
                form.controls['contactDetails'].get('emailAddress')?.errors
              "
            >
              <span
                class="small"
                *ngIf="form.controls['contactDetails'].get('emailAddress')?.errors?.['required']"
                >Email Address is required!</span
              >
              <span
                class="small"
                *ngIf="
                  (form.controls['contactDetails'].get('emailAddress')?.errors?.['email'] ||
                    form.controls['contactDetails'].get('emailAddress')?.errors?.['minlength'] ||
                    form.controls['contactDetails'].get('emailAddress')?.errors?.['maxlength']) &&
                  !form.controls['contactDetails'].get('emailAddress')?.errors?.['email']
                "
                >Invalid email address!</span
              >
            </span>
          </div>
        </div>
      </div>
      <div class="col-6">
        <!-- <div class="div-height">
          <label for="phone" class="form-label es-modal-form-label">Phone Number</label>
          <input
            type="text"
            class="form-control es-input"
            id="phone"
            aria-describedby="phone"
            name="phone"
            formControlName="phoneNumber"
          />
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['contactDetails'].get('phoneNumber')?.touched &&
                form.controls['contactDetails'].get('phoneNumber')?.dirty &&
                form.controls['contactDetails'].get('phoneNumber')?.errors
              "
            >
              <span
                class="small"
                *ngIf="form.controls['contactDetails'].get('phoneNumber')?.errors?.['required']"
                >Phone Number is required!</span
              >
              <span
                class="small"
                *ngIf="
                  form.controls['contactDetails'].get('phoneNumber')?.errors?.['pattern'] &&
                  !form.controls['contactDetails'].get('phoneNumber')?.errors?.['required']
                "
                >Invalid phone number!</span
              >
            </span>
          </div>
        </div> -->
        <div class="div-height">
          <label for="phone" class="form-label es-modal-form-label">Phone Number</label>
          <app-mobile-number-input
            [inputControl]="form.controls['contactDetails'].get('phoneNumber')"
          ></app-mobile-number-input>
          <div>
            <span
              class="help-block ng-invalid text-danger"
              *ngIf="
                form.controls['contactDetails'].get('phoneNumber')?.touched &&
                form.controls['contactDetails'].get('phoneNumber')?.dirty &&
                form.controls['contactDetails'].get('phoneNumber')?.errors
              "
            >
              <span
                class="small"
                *ngIf="form.controls['contactDetails'].get('phoneNumber')?.errors?.['required']"
                >Phone Number is required!</span
              >
              <span
                class="small"
                *ngIf="
                  form.controls['contactDetails'].get('phoneNumber')?.errors?.['minlength'] ||
                  form.controls['contactDetails'].get('phoneNumber')?.errors?.['maxlength']
                "
                >Invalid phone number!</span
              >
            </span>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</ng-container>
